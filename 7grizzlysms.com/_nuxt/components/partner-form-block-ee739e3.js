(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{1166:function(r,t,e){r.exports={}},1341:function(r,t,e){"use strict";e(1166)},1530:function(r,t,e){"use strict";e.r(t);e(20),e(22),e(15),e(13),e(25),e(38);var o=e(3),n=e(0),c=(e(11),e(125),e(66),e(35),e(32),e(597)),l=e(165),m=e(1003),d=e(1165);function v(object,r){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(object,r).enumerable}))),t.push.apply(t,e)}return t}function f(r){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(r,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(source,t))}))}return r}var h,_=c.a.extend({name:"PartnerFormBlock",data:function(){return{form:{contact:"",countPort:"",countrySimCard:"",yourEquipment:"",message:""},acceptForm:!0}},computed:{"errorСontact":function(){var r,t,e=null===(r=this.$v)||void 0===r||null===(t=r.form)||void 0===t?void 0:t.contact;return null!=e&&e.$invalid&&null!=e&&e.$dirty?e.required?null:this.$t("errorsValidationForms.requiredForFill"):null},errorCountPort:function(){var r,t,e=null===(r=this.$v)||void 0===r||null===(t=r.form)||void 0===t?void 0:t.countPort;return null!=e&&e.$invalid&&null!=e&&e.$dirty?e.required?null:this.$t("errorsValidationForms.requiredForFill"):null},errorCountrySimCard:function(){var r,t,e=null===(r=this.$v)||void 0===r||null===(t=r.form)||void 0===t?void 0:t.countrySimCard;return null!=e&&e.$invalid&&null!=e&&e.$dirty?e.required?null:this.$t("errorsValidationForms.requiredForFill"):null},errorYourEquipment:function(){var r,t,e=null===(r=this.$v)||void 0===r||null===(t=r.form)||void 0===t?void 0:t.yourEquipment;return null!=e&&e.$invalid&&null!=e&&e.$dirty?e.required?null:this.$t("errorsValidationForms.requiredForFill"):null},errorMessage:function(){var r,t,e=null===(r=this.$v)||void 0===r||null===(t=r.form)||void 0===t?void 0:t.message;return null!=e&&e.$invalid&&null!=e&&e.$dirty?e.required?null:this.$t("errorsValidationForms.requiredForFill"):null},isRecaptcha:function(){var r,t,e,o;return Boolean(Number.parseFloat((null===(r=this.$store)||void 0===r||null===(t=r.state)||void 0===t||null===(e=t.appState)||void 0===e||null===(o=e.config)||void 0===o?void 0:o.useReCaptchaForForms)||0))}},validations:function(){return{form:{contact:{required:l.required},countPort:{required:l.required},countrySimCard:{required:l.required},yourEquipment:{required:l.required},message:{required:l.required}}}},methods:{resetForm:function(){this.form={contact:"",countPort:"",countrySimCard:"",yourEquipment:"",message:""},this.$v.$reset()},submitForm:(h=Object(n.a)(regeneratorRuntime.mark((function r(){var t,e,o,body,n,c,l,v,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.$v.$touch(),!this.$v.$invalid){r.next=3;break}return r.abrupt("return",null);case 3:if(this.$store.commit("loading/setLoading",{name:"popUpLoading",value:!0}),t=["Контакт: ".concat(this.form.contact),"Количество портов оборудования: ".concat(this.form.countPort),"Страны «происхождения» сим-карт: ".concat(this.form.countrySimCard),"Ваше оборудование: ".concat(this.form.yourEquipment),"Что ещё нам важно знать о вас: ".concat(this.form.message)].join(";<br/>"),e=Boolean(Object(m.a)(this.form.contact))?this.form.contact:"info@info.info",o=Object(d.a)(),body={type:"Стать партнером",nophone:1,message:t,email:e,url:window.location.href,additional_data:f({},o)},!this.isRecaptcha){r.next=14;break}return r.next=11,this.$recaptcha.getResponse().then((function(r){return r})).catch((function(){return""}));case 11:return body["g-recaptcha-response"]=r.sent,r.next=14,this.$recaptcha.reset();case 14:return r.next=16,this.$api.agent.transport.post("/form/send",body).then((function(r){return r.data})).catch((function(r){return{error:r.response}}));case 16:if(null==(n=r.sent)||!n.error){r.next=24;break}return v=[],Array.isArray(null==n||null===(c=n.error)||void 0===c?void 0:c.data)&&null!=n&&null!==(l=n.error)&&void 0!==l&&l.data.length&&(v=null==n||null===(h=n.error)||void 0===h?void 0:h.data.map((function(r){return r.message}))),v.length||v.push(this.$t("partnerPage.popUp.errorForm")),this.$store.commit("loading/setLoading",{name:"popUpLoading",value:!1}),this.$toast.error(v.join(";<br/>")),r.abrupt("return");case 24:this.$store.commit("loading/setLoading",{name:"popUpLoading",value:!1}),this.$toast.success(this.$t("partnerPage.popUp.successForm")),this.resetForm();case 27:case"end":return r.stop()}}),r,this)}))),function(){return h.apply(this,arguments)})}}),$=_,y=(e(1341),e(5)),component=Object(y.a)($,(function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("section",{staticClass:"partner-form-block",attrs:{id:"partner-form-block"}},[e("div",{staticClass:"container --small"},[e("div",{staticClass:"partner-form-block__content"},[e("div",{staticClass:"partner-form-block__title"},[r._v(r._s(r.$t("partnerFormBlock.title")))]),r._v(" "),e("div",{staticClass:"partner-form-block__forms"},[e("div",[e("div",{staticClass:"form-title"},[r._v(r._s(r.$t("partnerFormBlock.contactTitle"))+" "),e("sup",[r._v("*")])]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.form.contact,expression:"form.contact"}],staticClass:"form-input",attrs:{placeholder:r.$t("partnerFormBlock.contactPlaceholder")},domProps:{value:r.form.contact},on:{input:function(t){t.target.composing||r.$set(r.form,"contact",t.target.value)}}}),r._v(" "),r.errorСontact?e("div",{staticClass:"form-error"},[r._v(r._s(r.errorСontact))]):r._e()]),r._v(" "),e("div",[e("div",{staticClass:"form-title"},[r._v(r._s(r.$t("partnerFormBlock.countPort"))+" "),e("sup",[r._v("*")])]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.form.countPort,expression:"form.countPort"}],staticClass:"form-input",attrs:{placeholder:r.$t("partnerFormBlock.countPortPlaceholder")},domProps:{value:r.form.countPort},on:{input:function(t){t.target.composing||r.$set(r.form,"countPort",t.target.value)}}}),r._v(" "),r.errorCountPort?e("div",{staticClass:"form-error"},[r._v(r._s(r.errorCountPort))]):r._e()]),r._v(" "),e("div",[e("div",{staticClass:"form-title"},[r._v(r._s(r.$t("partnerFormBlock.countrySimCard"))+" "),e("sup",[r._v("*")])]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.form.countrySimCard,expression:"form.countrySimCard"}],staticClass:"form-input",attrs:{placeholder:r.$t("partnerFormBlock.countrySimCardPlaceholder")},domProps:{value:r.form.countrySimCard},on:{input:function(t){t.target.composing||r.$set(r.form,"countrySimCard",t.target.value)}}}),r._v(" "),r.errorCountrySimCard?e("div",{staticClass:"form-error"},[r._v(r._s(r.errorCountrySimCard))]):r._e()]),r._v(" "),e("div",{staticClass:"--message"},[e("div",{staticClass:"form-title"},[r._v(r._s(r.$t("partnerFormBlock.message"))+" "),e("sup",[r._v("*")])]),r._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:r.form.message,expression:"form.message"}],staticClass:"form-input --textarea",attrs:{placeholder:r.$t("partnerFormBlock.messagePlaceholder")},domProps:{value:r.form.message},on:{input:function(t){t.target.composing||r.$set(r.form,"message",t.target.value)}}}),r._v(" "),r.errorMessage?e("div",{staticClass:"form-error"},[r._v(r._s(r.errorMessage))]):r._e()]),r._v(" "),e("div",[e("div",{staticClass:"form-title"},[r._v(r._s(r.$t("partnerFormBlock.yourEquipment"))+" "),e("sup",[r._v("*")])]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.form.yourEquipment,expression:"form.yourEquipment"}],staticClass:"form-input",attrs:{placeholder:r.$t("partnerFormBlock.yourEquipmentPlaceholder")},domProps:{value:r.form.yourEquipment},on:{input:function(t){t.target.composing||r.$set(r.form,"yourEquipment",t.target.value)}}}),r._v(" "),r.errorYourEquipment?e("div",{staticClass:"form-error"},[r._v(r._s(r.errorYourEquipment))]):r._e()])]),r._v(" "),r.isRecaptcha?e("div",{staticClass:"partner-form-block__recaptcha"},[e("recaptcha")],1):r._e(),r._v(" "),e("div",{staticClass:"partner-form-block__action"},[e("button",{staticClass:"btn btn-primary",attrs:{disabled:!r.acceptForm},on:{click:r.submitForm}},[r._v("\n          "+r._s(r.$t("partnerPage.popUp.send"))+"\n        ")]),r._v(" "),e("label",{staticClass:"--accept"},[e("input",{directives:[{name:"model",rawName:"v-model",value:r.acceptForm,expression:"acceptForm"}],staticClass:"checkbox checkbox-primary",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(r.acceptForm)?r._i(r.acceptForm,null)>-1:r.acceptForm},on:{change:function(t){var e=r.acceptForm,o=t.target,n=!!o.checked;if(Array.isArray(e)){var c=r._i(e,null);o.checked?c<0&&(r.acceptForm=e.concat([null])):c>-1&&(r.acceptForm=e.slice(0,c).concat(e.slice(c+1)))}else r.acceptForm=n}}}),r._v(" "),e("div",[r._v("\n            "+r._s(r.$t("partnerPage.popUp.accept1"))+"\n            "),e("a",{attrs:{href:"/privacy",target:"_blank"}},[r._v(r._s(r.$t("partnerPage.popUp.accept2")))])])])])])])])}),[],!1,null,"36530d1c",null);t.default=component.exports}}]);
//# sourceMappingURL=partner-form-block-ee739e3.js.map