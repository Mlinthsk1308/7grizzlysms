(window.webpackJsonp=window.webpackJsonp||[]).push([[129,128,130],{1e3:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(558),c={name:"FreeNumbersList",props:{currentNumber:{type:Object,default:()=>({})}},data:()=>({refreshDataInterval:null}),mounted(){var e=this;this.refreshDataInterval=setInterval(Object(n.a)((function*(){yield e.refreshData()})),1e4)},beforeDestroy(){clearInterval(this.refreshDataInterval)},computed:{number(){var e;return(null===(e=this.currentNumber)||void 0===e?void 0:e.number)||""},flagImg(){var e,t;return(null===(e=this.currentNumber)||void 0===e||null===(t=e.country)||void 0===t?void 0:t.icon)||""},codsList(){var e;return((null===(e=this.currentNumber)||void 0===e?void 0:e.list)||[]).map((e=>({serviceName:e.name,timeAdded:1e3*e.timestamp,message:e.sms,code:e.code})))}},methods:{copyString:function(e){Object(o.a)(e),this.$toast.success(this.$t("copyToBuffer.success"))},refreshData:function(){var e;this.$emit("updateData",{phoneNumber:this.number,country:null===(e=this.currentNumber)||void 0===e?void 0:e.country})},_currentTimeCode:function(code){var e=this.$i18n.locale;return[new Date(code).toLocaleDateString(e,{day:"2-digit",month:"short",year:"numeric"}),new Date(code).toLocaleTimeString(e,{minute:"numeric",second:"numeric"})].join(" ")}}},l=(r(989),r(4)),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"freeNumbersList__root"},[n("div",{staticClass:"freeNumbersList top"},[n("div",{staticClass:"top-left"},[n("div",{staticClass:"freeNumbersList__img"},[n("img",{attrs:{src:e.flagImg,alt:"flag"}})]),e._v(" "),n("div",{staticClass:"h1 freeNumbersList__number"},[e._v(e._s(e.number))]),e._v(" "),n("div",{staticClass:"freeNumbersList__copy",on:{click:function(){return e.copyString(e.number)}}},[n("img",{attrs:{src:r(546),alt:"icon"}})])]),e._v(" "),n("div",{staticClass:"top-right"},[e._e(),e._v(" "),n("div",{staticClass:"freeNumbersList__refresh",on:{click:e.refreshData}},[n("img",{attrs:{src:r(988),alt:"refresh"}})])])]),e._v(" "),n("div",{staticClass:"freeNumbersList bottom"},e._l(e.codsList,(function(code){return n("div",{key:code.id,staticClass:"freeNumbersList__code"},[n("div",{staticClass:"freeNumbersList__code-top"},[n("div",{staticClass:"freeNumbersList__service-name"},[e._v(e._s(code.serviceName))]),e._v(" "),n("div",{staticClass:"freeNumbersList__time-added"},[e._v(e._s(e._currentTimeCode(code.timeAdded)))])]),e._v(" "),n("div",{staticClass:"freeNumbersList__code-bottom"},[n("div",{staticClass:"freeNumbersList__message"},[e._v(e._s(code.message))]),e._v(" "),n("div",{staticClass:"freeNumbersList__btn-copy"},[n("img",{attrs:{src:r(546),alt:"icon"},on:{click:function(){return e.copyString(code.code)}}}),e._v(" "),n("div",[e._v("Code: "+e._s(code.code))])])])])})),0)])}),[],!1,null,"5031c987",null);t.default=component.exports},1001:function(e,t,r){"use strict";r.r(t);var n=r(967),o={name:"FreeCountriesNumbers",data:function(){return{selectCountry:null}},props:{currentNumber:{type:Object,default:()=>({})},countriesList:{type:Array,default:()=>[]}},computed:{numbersForCurrentCountries(){var e;return(null===(e=this.selectCountry)||void 0===e?void 0:e.numbers)||[]}},components:{FreeCountries:n.default},mounted:function(){this.initSelectCountry()},watch:{currentNumber:function(){this.initSelectCountry()}},methods:{initSelectCountry:function(){var e;Object.keys(this.currentNumber||{}).length<=0||this.selectCountry||(this.selectCountry=null===(e=this.currentNumber)||void 0===e?void 0:e.country)},changeSelectCountry:function(e){this.selectCountry=e},setCurrentNumber:function(e){this.$emit("currentNumber",{phoneNumber:e,country:this.selectCountry})}}},c=(r(991),r(4)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"freeCountriesNumbers__root"},[e.selectCountry?n("FreeCountries",{staticClass:"freeCountriesNumbers",attrs:{"countries-list":e.countriesList,"current-country":e.selectCountry},on:{setActiveCountry:e.changeSelectCountry}}):e._e(),e._v(" "),e.numbersForCurrentCountries&&e.numbersForCurrentCountries.length?n("div",{staticClass:"freeCountriesNumbers freeCountriesNumbers__numbers"},e._l(e.numbersForCurrentCountries,(function(t){return n("div",{key:"freeCountriesNumbers-"+t,class:{active:t===e.currentNumber.number},on:{click:function(r){return e.setCurrentNumber(t)}}},[n("span",[n("img",{attrs:{loading:"lazy",src:r(990),alt:"phone"}}),e._v(e._s(t))])])})),0):e._e()],1)}),[],!1,null,"e35666d2",null);t.default=component.exports;installComponents(component,{FreeCountries:r(967).default})},1072:function(e,t,r){e.exports={}},1245:function(e,t,r){"use strict";r(1072)},1425:function(e,t,r){"use strict";r.r(t);var n=r(7),o=r(0),c=(r(5),r(18),r(6),r(536)),l=r(1e3),m=r(1001);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f,h,y,_=c.a.extend({name:"FreeNumbersBlock",data:function(){return{countryListResponse:[],currentNumber:{},isLoadCurrentNumber:!0,isPopUpRegistration:!1}},components:{FreeNumbersList:l.default,FreeCountriesNumbers:m.default,PopUpRegistration:()=>Promise.all([r.e(3),r.e(4),r.e(52)]).then(r.bind(null,1461))},mounted:(y=Object(o.a)((function*(){setTimeout((()=>{this.openPopUpRegistration()}),3e4),yield this.getFreeNumbers()})),function(){return y.apply(this,arguments)}),methods:{getFreeNumbers:(h=Object(o.a)((function*(){var e,t,r,n,o=yield this.$api.agent.transport.get("/free/numbers").then((e=>null==e?void 0:e.data)).catch((()=>[])),c=[];Object.keys(o).map((e=>{var t,r,n,l,m=o[e];c.push({country:v(v({},m.country),{},{numbers:null==m?void 0:m.numbers}),country_code:null==m?void 0:m.numbers.length,country_external_id:null==m||null===(t=m.country)||void 0===t?void 0:t.external_id,country_slug:null==m||null===(r=m.country)||void 0===r?void 0:r.slug,icon:null==m||null===(n=m.country)||void 0===n?void 0:n.icon,name:null==m||null===(l=m.country)||void 0===l?void 0:l.name,numbers:((null==m?void 0:m.numbers)||[]).map((e=>({number:e,id:e})))})})),this.countryListResponse=c;var l=null==c||null===(e=c[0])||void 0===e||null===(t=e.numbers)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.number;l&&(yield this.getCurrentNumber({phoneNumber:l,country:null==c||null===(n=c[0])||void 0===n?void 0:n.country}))})),function(){return h.apply(this,arguments)}),getCurrentNumber:(f=Object(o.a)((function*(e){var{phoneNumber:t,country:r}=e;this.isLoadCurrentNumber=!0;var n=yield this.$api.agent.transport.get("/free/sms/".concat(t)).then((e=>e.data)).catch((()=>[]));this.currentNumber={country:r,number:t,list:n},this.isLoadCurrentNumber=!1})),function(e){return f.apply(this,arguments)}),openPopUpRegistration:function(){this.isPopUpRegistration=!0},closePopUpRegistration:function(){this.isPopUpRegistration=!1}}}),C=_,N=(r(1245),r(4)),component=Object(N.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"free-numbers-block"},[r("div",{staticClass:"container"},[e.countryListResponse.length?r("div",{staticClass:"freeNumbers__main"},[r("div",{staticClass:"left"},[r("FreeCountriesNumbers",{attrs:{"current-number":e.currentNumber,"countries-list":e.countryListResponse},on:{currentNumber:e.getCurrentNumber}})],1),e._v(" "),r("div",{staticClass:"right",class:{"--loading":e.isLoadCurrentNumber}},[r("FreeNumbersList",{attrs:{"current-number":e.currentNumber},on:{updateData:e.getCurrentNumber}})],1)]):e._e()]),e._v(" "),e.isPopUpRegistration?r("PopUpRegistration",{on:{close:e.closePopUpRegistration}}):e._e()],1)}),[],!1,null,"5d33c67a",null);t.default=component.exports;installComponents(component,{FreeCountriesNumbers:r(1001).default,FreeNumbersList:r(1e3).default})},936:function(e,t,r){e.exports={}},937:function(e,t,r){e.exports={}},988:function(e,t,r){e.exports=r.p+"img/refresh.bba0a44.svg"},989:function(e,t,r){"use strict";r(936)},990:function(e,t,r){e.exports=r.p+"img/phone.bd735cc.svg"},991:function(e,t,r){"use strict";r(937)}}]);
//# sourceMappingURL=free-numbers-block-c8ac7ab.modern.js.map