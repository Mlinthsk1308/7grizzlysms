(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1116:function(e,t,r){e.exports={}},1281:function(e,t,r){"use strict";r(1116)},942:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r(0),m=(r(11),r(125),r(66),r(20),r(22),r(15),r(13),r(25),r(38),r(165));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={data:function(){return{isAgree:!1,isLoading:!1,form:{name:"",email:"",message:""}}},props:{formTitle:{type:String,default:"feedbackForm.title"},requestType:{type:String,default:"обратная связь"}},computed:{isRecaptcha:function(){var e,t,r,n;return Boolean(Number.parseFloat((null===(e=this.$store)||void 0===e||null===(t=e.state)||void 0===t||null===(r=t.appState)||void 0===r||null===(n=r.config)||void 0===n?void 0:n.useReCaptchaForForms)||0))}},validations:{form:{name:{required:m.required,minLength:Object(m.minLength)(2)},email:{required:m.required,email:m.email},message:{required:m.required,minLength:Object(m.minLength)(6)}}},methods:{onSubmitForm:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){t.next=3;break}return t.abrupt("return",null);case 3:if(e.isLoading=!0,r=e.form,!e.isRecaptcha){t.next=11;break}return t.next=8,e.$recaptcha.getResponse().then((function(e){return e})).catch((function(){return""}));case 8:return r["g-recaptcha-response"]=t.sent,t.next=11,e.$recaptcha.reset();case 11:return t.next=13,e.$api.agent.transport.post("form-api/send",c({type:e.requestType,nophone:"1"},r)).catch((function(t){var r,n,o;e.$toast.error((null==t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.message)||e.$t("feedbackForm.sendError"),{})}));case 13:t.sent&&e.$toast.success(e.$t("feedbackForm.applicationIsAccepted")),e.$gtm.push({event:"feedback"}),e.form={name:"",email:"",message:""},e.$v.$reset(),e.isLoading=!1;case 19:case"end":return t.stop()}}),t)})))()}}},f=(r(1281),r(5)),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mt-6 bg-base-200 p-4 sm:p-8 rounded-[10px] flex flex-col",attrs:{id:"feedback"}},[r("div",{staticClass:"font-semibold text-xl sm:text-[28px] mb-7"},[e._v(e._s(e.$t(e.formTitle)))]),e._v(" "),r("div",{staticClass:"flex mb-6 flex-col sm:flex-row"},[r("div",{staticClass:"flex flex-col space-y-3 h-full w-full sm:w-2/5 sm:mb-0 mr-0 sm:mr-4"},[r("div",[e.$v.form.name.$dirty?r("span",{staticClass:"text-error text-2xs"},[e.$v.form.name.required?e.$v.form.name.minLength?e._e():r("span",[e._v(e._s(e.$t("errorsValidationForms.requaredLengthMessage"))+" "+e._s(e.$v.form.name.$params.minLength.min))]):r("span",[e._v(e._s(e.$t("errorsValidationForms.requiredForFill")))])]):e._e(),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.name.$model,expression:"$v.form.name.$model",modifiers:{trim:!0}}],staticClass:"feedback-input h-11 sm:h-12 bg-secondary w-full input focus:ring-0",attrs:{placeholder:e.$t("feedbackForm.namePlaceholder"),type:"text"},domProps:{value:e.$v.form.name.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.name,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),r("div",{},[e.$v.form.email.$dirty?r("span",{staticClass:"text-error text-2xs"},[e.$v.form.email.required?e.$v.form.email.email?e._e():r("span",[e._v(e._s(e.$t("errorsValidationForms.emailErrorMessage")))]):r("span",[e._v(e._s(e.$t("errorsValidationForms.requiredForFill")))])]):e._e(),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.email.$model,expression:"$v.form.email.$model",modifiers:{trim:!0}}],staticClass:"feedback-input h-11 sm:h-12 bg-secondary w-full input focus:ring-0",attrs:{placeholder:e.$t("feedbackForm.emailPlaceholder"),type:"text"},domProps:{value:e.$v.form.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.email,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),r("div",{staticClass:"mt-3 sm:mt-0 w-full sm:w-3/5 min-h-[88px] h-[88px] sm:min-h-[108px] sm:h-[108px] flex flex-col"},[e.$v.form.message.$dirty?r("span",{staticClass:"text-error text-2xs"},[e.$v.form.message.required?e.$v.form.message.minLength?e._e():r("span",[e._v(e._s(e.$t("errorsValidationForms.requaredLengthMessage"))+" "+e._s(e.$v.form.message.$params.minLength.min))]):r("span",[e._v(e._s(e.$t("errorsValidationForms.requiredForFill")))])]):e._e(),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.form.message.$model,expression:"$v.form.message.$model",modifiers:{trim:!0}}],staticClass:"bg-secondary w-full input focus:ring-0 h-full pt-2",attrs:{type:"text",placeholder:e.$t("feedbackForm.messagePlaceholder")},domProps:{value:e.$v.form.message.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.form.message,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),e.isRecaptcha?[r("div",{staticClass:"mb-6"},[r("recaptcha")],1)]:e._e(),e._v(" "),r("div",{staticClass:"flex flex-col sm:flex-row items-center space-x-0 sm:space-x-8"},[r("button",{staticClass:"btn btn-primary btn-md min-h-[44px] h-11 min-w-[164px] w-full sm:w-auto mb-4 sm:mb-0",attrs:{disabled:e.isLoading||!e.isAgree},on:{click:e.onSubmitForm}},[e._v(e._s(e.isLoading?e.$t("feedbackForm.buttonRegistrating"):e.$t("feedbackForm.buttonSend"))+"\n    ")]),e._v(" "),r("div",{staticClass:"flex items-end"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isAgree,expression:"isAgree"}],staticClass:"min-h-[28px] min-w-[28px] checkbox checkbox-primary",attrs:{type:"checkbox",id:"isAgree"},domProps:{checked:Array.isArray(e.isAgree)?e._i(e.isAgree,null)>-1:e.isAgree},on:{change:function(t){var r=e.isAgree,n=t.target,o=!!n.checked;if(Array.isArray(r)){var m=e._i(r,null);n.checked?m<0&&(e.isAgree=r.concat([null])):m>-1&&(e.isAgree=r.slice(0,m).concat(r.slice(m+1)))}else e.isAgree=o}}}),e._v(" "),r("label",{staticClass:"text-[13px] leading-[120%] max-w-xs ml-3",attrs:{for:"isAgree"}},[e._v("\n        "+e._s(e.$t("feedbackForm.iAgree"))+"\n        "),r("nuxt-link",{staticClass:"link link-primary",attrs:{to:e.localePath("/privacy")}},[e._v(e._s(e.$t("feedbackForm.privacyPolicy"))+"\n        ")])],1)])])],2)}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=feedback-a5d5d14.js.map