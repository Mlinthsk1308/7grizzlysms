(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{1162:function(t,r,e){t.exports={}},1339:function(t,r,e){"use strict";e(1162)},1528:function(t,r,e){"use strict";e.r(r);e(20),e(22),e(13),e(38);var l=e(3),c=(e(12),e(34),e(25),e(94),e(15),e(29),e(40),e(50),e(125),e(66),e(597)),o=e(1079),n=e.n(o);function v(object,t){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),r.push.apply(r,e)}return r}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(r){Object(l.a)(t,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(source,r))}))}return t}var f=c.a.extend({name:"PartnerCalculatorBlock",data:function(){return{form:{profits:null,price:"0",ports:"0"},search:"",currencyMask:function(t){return n()({prefix:"",allowDecimal:!0,allowNegative:!0,decimalSymbol:".",thousandsSeparatorSymbol:" ",decimalLimit:0})(t=t.replace(",","."))},currencyMaskDecimal:function(t){return n()({prefix:"",allowDecimal:!0,allowNegative:!0,decimalSymbol:".",thousandsSeparatorSymbol:" ",decimalLimit:2})(t=t.replace(",","."))}}},mounted:function(){var t;this.form.profits=null===(t=this.countries)||void 0===t?void 0:t[0]},computed:{getCurrency:function(){return this.$store.getters["currency/currentCurrency"]},getCurrencySumbol:function(){return Boolean("rub"===this.getCurrency)?"₽":"$"},currentLanguage:function(){var t,r;return(null===(t=this.$i18n)||void 0===t?void 0:t.locale)||(null===(r=this.$i18n)||void 0===r?void 0:r.defaultLocale)},countries:function(){var t,r=this,e=[];if(((null===(t=this.cfgs)||void 0===t?void 0:t.profits)||[]).forEach((function(t){var l;if(t.country){var c=null===(l=JSON.parse((null==t?void 0:t.country)||{}))||void 0===l?void 0:l[r.currentLanguage];e.push(m(m({},t),{},{country:c}))}})),this.search<=2)return e;var l=String(this.search||"").toLowerCase();return[].concat(e).filter((function(t){return Boolean(String(t.country||"").toLowerCase().includes(l))}))},percentProfit:function(){var t,r=Number.parseFloat(String(this.form.ports||0).replace(/ /g,"")),e=Number.parseFloat(String(this.$convertCurrency((null===(t=this.form.profits)||void 0===t?void 0:t.profit)||0)).replace(/ /g,"")),l=Number.parseFloat(String(this.form.price||0).replace(/ /g,"")),c=r*l;if(92*(r*e-c)<=0)return 0;if(c<=0)return 0;var o=r*l,n=r*e-o,v=Math.floor(n/o*100);return v>0?"+".concat(v):v}},methods:{_calcMathProfit:function(t){var r,e,l,c,o=null===(r=this.$store)||void 0===r||null===(e=r.state)||void 0===e||null===(l=e.currency)||void 0===l?void 0:l.currentCurrency,n=Boolean("usd"===o)?"usd":"rub",v=Number.parseFloat(String(this.form.ports||0).replace(/ /g,"")),m=Number.parseFloat(String(this.$convertCurrency(this.form.price||0,n)).replace(/ /g,""));"rub"===o&&(m=Number.parseFloat(String(this.form.price||0).replace(/ /g,"")));var f=v*Number.parseFloat(String(null===(c=this.form.profits)||void 0===c?void 0:c.profit).replace(/ /g,""))-v*m,_=Math.floor(f*t),d=this.$convertCurrency(_);return this.$numberFormat(d)},_calcMathProfit_:function(t){var r,e=Number.parseFloat(String(this.form.ports||0).replace(/ /g,"")),l=Number.parseFloat(String(this.form.price||0).replace(/ /g,"")),c=Number.parseFloat(String((null===(r=this.form.profits)||void 0===r?void 0:r.profit)||0).replace(/ /g,"")),o=(e*c-e*l)*t;return o=this.$convertCurrency(o),this.$numberFormat(o)},changeSearch:function(t){this.search=t}}}),_=(e(1339),e(5)),component=Object(_.a)(f,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("section",{staticClass:"partner-calculator-block",attrs:{id:"partner-calculator-block"}},[e("div",{staticClass:"container --small"},[e("div",{staticClass:"partner-calculator-block__content"},[e("div",{staticClass:"partner-calculator-block__title"},[t._v(t._s(t.values.title))]),t._v(" "),e("div",{staticClass:"partner-calculator-block__message"},[t._v(t._s(t.values.sub_title))]),t._v(" "),e("div",{staticClass:"partner-calculator-block__body"},[e("div",{staticClass:"--left"},[e("div",{staticClass:"partner-calculator-form-item"},[e("div",{staticClass:"partner-calculator-form-item__title"},[t._v("\n              "+t._s(t.$t("partnerCalculatorBlock.country"))+"\n            ")]),t._v(" "),e("div",{staticClass:"partner-calculator-form-item__select"},[e("client-only",[e("multiselect",{attrs:{placeholder:t.$t("languagesList.Поиск_по_странам"),selectLabel:t.$t("languagesList.Поиск_по_странам"),selectedLabel:" ",deselectLabel:" ","option-height":104,options:t.countries,internalSearch:!1},on:{"search-change":t.changeSearch},scopedSlots:t._u([{key:"singleLabel",fn:function(r){return[e("div",{staticClass:"multiselect-select-single-label"},[e("span",{staticClass:"multiselect-select-single-label__name"},[t._v(t._s(r.option.country))])])]}},{key:"option",fn:function(r){return[e("div",{staticClass:"multiselect-select-single-label"},[e("span",{staticClass:"multiselect-select-single-label__name"},[t._v(t._s(r.option.country))])])]}}]),model:{value:t.form.profits,callback:function(r){t.$set(t.form,"profits",r)},expression:"form.profits"}})],1)],1)]),t._v(" "),e("div",{staticClass:"partner-calculator-form-item"},[e("div",{staticClass:"partner-calculator-form-item__title"},[t._v("\n              "+t._s(t.$t("partnerCalculatorBlock.priceSim"))+"\n            ")]),t._v(" "),e("label",{staticClass:"partner-calculator-form-item__item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.price,expression:"form.price"},{name:"mask",rawName:"v-mask",value:t.currencyMaskDecimal,expression:"currencyMaskDecimal"}],attrs:{type:"text",placeholder:"..."},domProps:{value:t.form.price},on:{input:function(r){r.target.composing||t.$set(t.form,"price",r.target.value)}}}),t._v(" "),e("span",[t._v(t._s("rub"===t.getCurrency?"₽":"$"))])])]),t._v(" "),e("div",{staticClass:"partner-calculator-form-item"},[e("div",{staticClass:"partner-calculator-form-item__title"},[t._v("\n              "+t._s(t.$t("partnerCalculatorBlock.countPort"))+"\n            ")]),t._v(" "),e("label",{staticClass:"partner-calculator-form-item__item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ports,expression:"form.ports"},{name:"mask",rawName:"v-mask",value:t.currencyMask,expression:"currencyMask"}],attrs:{type:"text",placeholder:"..."},domProps:{value:t.form.ports},on:{input:function(r){r.target.composing||t.$set(t.form,"ports",r.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"--right"},[e("div",{staticClass:"partner-calculator-block__slider"},[e("div",{staticClass:"--gray"}),t._v(" "),e("div",{staticClass:"--white-1"}),t._v(" "),e("div",{staticClass:"--white-2"},[e("div",{staticClass:"--main-title"},[t._v(t._s(t.percentProfit)),e("span",[t._v("%")])]),t._v(" "),e("div",{staticClass:"--divide"}),t._v(" "),e("div",{staticClass:"--secondary-title"},[t._v(t._s(t.$t("partnerCalculatorBlock.netProfit")))])]),t._v(" "),e("div",{staticClass:"--progress",style:"--data-percent: "+t.percentProfit+"%"})]),t._v(" "),e("div",{staticClass:"partner-calculator-block__info"},[e("div",[e("div",{staticClass:"label"},[t._v(t._s(t.$t("partnerCalculatorBlock.netProfit3")))]),t._v(" "),e("div",{staticClass:"value"},[t._v(t._s(t._calcMathProfit(3))+" "+t._s(t.getCurrencySumbol))])]),t._v(" "),e("div",[e("div",{staticClass:"label"},[t._v(t._s(t.$t("partnerCalculatorBlock.netProfit6")))]),t._v(" "),e("div",{staticClass:"value"},[t._v(t._s(t._calcMathProfit(6))+" "+t._s(t.getCurrencySumbol))])]),t._v(" "),e("div",[e("div",{staticClass:"label"},[t._v(t._s(t.$t("partnerCalculatorBlock.netProfit12")))]),t._v(" "),e("div",{staticClass:"value"},[t._v(t._s(t._calcMathProfit(12))+" "+t._s(t.getCurrencySumbol))])])])])])])])])}),[],!1,null,null,null);r.default=component.exports}}]);
//# sourceMappingURL=partner-calculator-block-fb7f36b.js.map