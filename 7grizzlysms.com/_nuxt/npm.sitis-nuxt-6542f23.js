(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return v}));var r=n(3),o="userAuth",c="SET_SESSION_TOKEN",l="UNSET_TOKENS",f="SET_TOKENS",d={SET_TOKEN:"setToken",SET_SESSION_TOKEN:"SET_SESSION_TOKEN",SET_TOKENS:"SET_TOKENS",UNSET_TOKENS:"UNSET_TOKENS"};function v(){var e,t;return{namespaced:!0,state:function(){return{sessionToken:null,authToken:null}},actions:(e={},Object(r.a)(e,d.SET_TOKEN,(function(e,t){var n,r,o,c;this.$api.auth=t,this.$api.locale=(null===(n=this.$api)||void 0===n?void 0:n.userLocale)||(null===(c=null===(o=null===(r=this.$api)||void 0===r?void 0:r.configProps)||void 0===o?void 0:o.headers)||void 0===c?void 0:c["x-user-locale"])||""})),Object(r.a)(e,d.SET_TOKENS,(function(e,t){(0,e.commit)(f,t)})),Object(r.a)(e,d.SET_SESSION_TOKEN,(function(e,t){var n,r,o,l,f;(0,e.commit)(c,t),this.$api.auth={sessionToken:t,authToken:(null===(n=this.$api)||void 0===n?void 0:n.authToken)||""},this.$api.locale=(null===(r=this.$api)||void 0===r?void 0:r.userLocale)||(null===(f=null===(l=null===(o=this.$api)||void 0===o?void 0:o.configProps)||void 0===l?void 0:l.headers)||void 0===f?void 0:f["x-user-locale"])||""})),Object(r.a)(e,d.UNSET_TOKENS,(function(e){(0,e.commit)(l)})),e),mutations:(t={},Object(r.a)(t,c,(function(e,t){e.sessionToken=t})),Object(r.a)(t,f,(function(e,t){var n=t.sessionToken,r=t.authToken;n&&(e.sessionToken=n),r&&(e.authToken=r)})),Object(r.a)(t,l,(function(e){e.sessionToken=null,e.authToken=null})),t),getters:{sessionToken:function(e){return e.sessionToken},authToken:function(e){return e.authToken}}}}},149:function(e,t,n){"use strict";n(46);var r=n(9),o=n(43),c=n(16),l=n(17),f=n(8),d=n(6),v=(n(13),n(12),n(34),n(2)),h=n(74);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=Object(v.namespace)(h.c),j=function(e){Object(c.a)(n,e);var t=y(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).username="",e.address="",e.phone="",e.sex="",e.birthday="",e.email="",e}return Object(o.a)(n,[{key:"onChangeUser",value:function(e){e&&(this.username=e.username,this.address=e.address||"",this.phone=e.phone||"",this.sex=e.sexLabel||"",this.birthday=e.birthday||"",this.email=e.email||"")}},{key:"onLogout",value:function(){this.userLogout(),this.$router.replace("/")}},{key:"serializeForm",value:function(){return{username:this.username,address:this.address,phone:this.phone,sex:this.sex,birthday:this.birthday,email:this.email}}},{key:"submitForm",value:function(){console.log("on submit form ",this.serializeForm())}}]),n}(v.Vue);O([m.Action(h.a.LOGIN)],j.prototype,"login",void 0),O([m.Action(h.a.REGISTER)],j.prototype,"registerUser",void 0),O([m.Action(h.a.LOGOUT)],j.prototype,"userLogout",void 0),O([m.Action(h.a.REQUEST_PASSWORD)],j.prototype,"requestPassword",void 0),O([m.Action(h.a.GET_USER)],j.prototype,"getUser",void 0),O([m.Getter("user")],j.prototype,"user",void 0),O([m.Getter("isLoggedIn")],j.prototype,"isLoggedIn",void 0),O([m.Getter("isLoadingUser")],j.prototype,"isLoadingUser",void 0),O([m.Getter("isLoadedSuccess")],j.prototype,"isLoadedSuccess",void 0),O([m.Getter("loading")],j.prototype,"loading",void 0),O([m.Getter("userError")],j.prototype,"userError",void 0),O([Object(v.Watch)("user",{immediate:!0})],j.prototype,"onChangeUser",null),j=O([v.Component],j),t.a=j},158:function(e,t,n){"use strict";n(46);var r=n(9),o=n(16),c=n(17),l=n(8),f=n(6),d=(n(13),n(2));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},y=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue);h([Object(d.Prop)({type:Array,default:function(){return[]}})],y.prototype,"content",void 0),h([Object(d.Prop)({type:Array,default:function(){return[]}})],y.prototype,"breadcrumbs",void 0),h([Object(d.Prop)({type:Object,default:function(){return{}}})],y.prototype,"externalData",void 0),y=h([d.Component],y),t.a=y},161:function(e,t,n){"use strict";n(46);var r=n(9),o=n(16),c=n(17),l=n(8),f=n(6),d=(n(13),n(2));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},y=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue);h([Object(d.Prop)({type:Array,default:function(){return[]}})],y.prototype,"breadcrumbs",void 0);var O=y=h([d.Component],y),m=(n(594),n(5)),component=Object(m.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.breadcrumbs.length?n("div",{staticClass:"breadcrumbs"},[n("ul",{staticClass:"breadcrumbs__list"},e._l(e.breadcrumbs,(function(t,r){var path=t.path,title=t.title;return n("li",{key:r,staticClass:"breadcrumbs__item",class:{active:r===e.breadcrumbs.length-1}},[r===e.breadcrumbs.length-1?[e._v(e._s(title))]:n("nuxt-link",{attrs:{to:path}},[e._v(e._s(title))])],2)})),0)]):e._e()}),[],!1,null,null,null);t.a=component.exports},200:function(e,t,n){"use strict";n.r(t),n.d(t,"extractBlocks",(function(){return c})),n.d(t,"extractLayout",(function(){return l}));var r=n(9),o=(n(20),n(19),n(31),n(32),function e(data){Object(r.a)(this,e),this.id=data.id,this.componentName=data.block_name,this.isContainer=data.is_container,this.slots=data.placeholders?Object.keys(data.placeholders):[],this.placeholders=data.placeholders,this.props={values:data.values,cfgs:data.cfgs,extras:data.extras}}),c=function(e){return e.map((function(b){return new o(b)}))},l=function(e){var t={componentName:null,props:[]};return e.layout&&(t.componentName="Layout".concat(e.layout.id),t.props=e.placeholders.content),t}},201:function(e,t,n){"use strict";n.r(t);n(46);var r=n(10),o=n(9),c=n(43),l=n(16),f=n(17),d=n(8),v=n(6),h=(n(13),n(32),n(66),n(2)),y=n(336);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},j=function(e){Object(l.a)(n,e);var t=O(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).currentLevel=0,e}return Object(c.a)(n,[{key:"renderBlocks",get:function(){var e=[];return Object(r.a)(this.blocks).map((function(t){var n,o,c,l,f;if((null===(n=t.extras)||void 0===n?void 0:n.placeholder)&&t.placeholders&&(null===(o=t.placeholders)||void 0===o?void 0:o[null===(c=t.extras)||void 0===c?void 0:c.placeholder])){var d=null===(l=t.placeholders)||void 0===l?void 0:l[null===(f=null==t?void 0:t.extras)||void 0===f?void 0:f.placeholder];if(Array.isArray(d))return void e.push.apply(e,Object(r.a)(d));e.push(d)}e.push(t)})),Object(y.extractBlocks)(e)}},{key:"created",value:function(){this.currentLevel=this.level}}]),n}(h.Vue);m([Object(h.Prop)({type:String})],j.prototype,"name",void 0),m([Object(h.Prop)({type:Number,default:0})],j.prototype,"level",void 0),m([Object(h.Prop)({type:Array,default:function(){return[]}})],j.prototype,"blocks",void 0),m([Object(h.Prop)({type:Object,default:function(){return{}}})],j.prototype,"externalData",void 0);var R=j=m([Object(h.Component)({})],j),E=n(5),component=Object(E.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.renderBlocks,(function(t,r){return n(t.componentName,e._b({key:r,tag:"component",attrs:{"external-data":e.externalData},scopedSlots:e._u([e._l(t.slots,(function(r){return{key:r,fn:function(){return[n("LayoutPlaceholder",{key:r,tag:"component",attrs:{level:e.currentLevel+1,blocks:t.placeholders[r],"external-data":e.externalData}})]},proxy:!0}}))],null,!0)},"component",t.props,!1))})),1)}),[],!1,null,null,null);t.default=component.exports},208:function(e,t,n){"use strict";var r,o=n(3),c=n(81),l=n(74),f=n(75),d=n(102);t.a=(r={},Object(o.a)(r,f.c,Object(f.b)()),Object(o.a)(r,l.c,Object(l.b)()),Object(o.a)(r,d.c,Object(d.b)()),Object(o.a)(r,c.c,Object(c.b)()),r)},222:function(e,t,n){"use strict";n(46);var r=n(0),o=n(9),c=n(43),l=n(16),f=n(17),d=n(8),v=n(6),h=(n(11),n(13),n(22),n(45),n(2));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var O=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(l.a)(f,e);var t,n=y(f);function f(){var e;return Object(o.a)(this,f),(e=n.apply(this,arguments)).meta={},e}return Object(c.a)(f,[{key:"loadMeta",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){var path,t,meta,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return path=this.$route.path,e.next=3,this.$api.agent.transport("cms/page-by-path?path=".concat(path)).catch((function(){n.$nuxt.error({statusCode:404})}));case 3:t=e.sent,meta=t.data,this.meta=meta;case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getPageHead",value:function(){var e,t,n,r,o,c,l,f,d,v,h,y,O,m,j,R,E,P,k=(null===(t=null===(e=this.meta)||void 0===e?void 0:e.page)||void 0===t?void 0:t.title_tag)||(null===(r=null===(n=this.meta)||void 0===n?void 0:n.page)||void 0===r?void 0:r.title)||(null===(f=null===(l=null===(c=null===(o=this.$store)||void 0===o?void 0:o.state)||void 0===c?void 0:c.appState)||void 0===l?void 0:l.config)||void 0===f?void 0:f.siteName)||"",head={title:k,meta:[]};return k&&head.meta.push({name:"og:title",hid:"og:title",property:"og:title",content:k}),(null===(v=null===(d=this.meta)||void 0===d?void 0:d.page)||void 0===v?void 0:v.description)&&(head.meta.push({hid:"metadescription",name:"description",content:null===(y=null===(h=this.meta)||void 0===h?void 0:h.page)||void 0===y?void 0:y.description}),head.meta.push({name:"og:description",hid:"og:description",property:"og:description",content:null===(m=null===(O=this.meta)||void 0===O?void 0:O.page)||void 0===m?void 0:m.description})),(null===(R=null===(j=this.meta)||void 0===j?void 0:j.page)||void 0===R?void 0:R.keywords)&&head.meta.push({name:"keywords",content:null===(P=null===(E=this.meta)||void 0===E?void 0:E.page)||void 0===P?void 0:P.keywords}),head}}]),f}(h.Vue);m=O([Object(h.Component)({head:function(){return this.getPageHead()},fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadMeta();case 2:case"end":return t.stop()}}),t)})))()}})],m),t.a=m},313:function(e,t,n){e.exports={}},314:function(e,t,n){e.exports={}},320:function(e,t,n){"use strict";n.r(t);n(170),n(29);var r={name:"WidgetAdmin",props:{baseApiUrl:{type:String,default:""}},fetch:function(){this.currentCookies=this.$cookies.get("_adminIdentity")},data:function(){return{linkList:{cmsPage:{mainLink:"/admin#!/template/cmsadmin~2Fdefault~2Findex/update/"},product:{mainLink:"/admin#!/default/9/shopadmin/products/index/"},category:{mainLink:"/admin#!/default/9/shopadmin/categories/index/"}},currentCookies:null}},computed:{adminLink:function(){var e=Boolean(!!this.currentProduct),t=Boolean(!!this.currentCategory);return Boolean(!!this.currentCmsPage&&!t&&!e)?this.currentCmsPage:t?this.currentCategory:e?this.currentProduct:""},currentCmsPage:function(){var e,t,n=this.$store.getters["cms/page"]||null;return n?this.gatherLink({id:(null==n||null===(e=n.page)||void 0===e?void 0:e.navId)||(null==n||null===(t=n.page)||void 0===t?void 0:t.id),link:this.linkList.cmsPage.mainLink}):null},currentCategory:function(){var e,t,n=this.$store.getters["catalog/currentCategory"]||null;return n&&(null===(e=this.$route)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.pathMatch)===n.slug?this.gatherLink({id:null==n?void 0:n.id,link:this.linkList.category.mainLink}):null},currentProduct:function(){var e,t,n=this.$store.getters["products/currentProduct"]||null;return n&&(null===(e=this.$route)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.slug)===n.slug?this.gatherLink({id:null==n?void 0:n.id,link:this.linkList.product.mainLink}):null}},methods:{gatherLink:function(e){var link=e.link,t=e.id,n=this.baseApiUrl;return"".concat(n).concat(link).concat(t)}}},o=(n(593),n(5)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.adminLink&&e.currentCookies?n("div",{staticClass:"widget-admin"},[n("a",{attrs:{href:e.adminLink,target:"_blank"}},[n("svg",{attrs:{width:"800px",height:"800px",viewBox:"0 0 24 24",id:"_24x24_On_Light_Edit","data-name":"24x24/On Light/Edit",xmlns:"http://www.w3.org/2000/svg"}},[n("rect",{attrs:{id:"view-box",width:"24",height:"24",fill:"none"}}),e._v(" "),n("path",{attrs:{id:"Shape",d:"M.75,17.5A.751.751,0,0,1,0,16.75V12.569a.755.755,0,0,1,.22-.53L11.461.8a2.72,2.72,0,0,1,3.848,0L16.7,2.191a2.72,2.72,0,0,1,0,3.848L5.462,17.28a.747.747,0,0,1-.531.22ZM1.5,12.879V16h3.12l7.91-7.91L9.41,4.97ZM13.591,7.03l2.051-2.051a1.223,1.223,0,0,0,0-1.727L14.249,1.858a1.222,1.222,0,0,0-1.727,0L10.47,3.91Z",transform:"translate(3.25 3.25)",fill:"white"}})])])]):e._e()}),[],!1,null,null,null);t.default=component.exports},336:function(e,t,n){"use strict";n.r(t);var r=n(200);n.d(t,"extractLayout",(function(){return r.extractLayout})),n.d(t,"extractBlocks",(function(){return r.extractBlocks}))},51:function(e,t,n){"use strict";n.d(t,"d",(function(){return O.a})),n.d(t,"f",(function(){return m.a})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return D})),n.d(t,"a",(function(){return Q})),n.d(t,"b",(function(){return V.a}));n(46);var r=n(9),o=n(16),c=n(17),l=n(8),f=n(6),d=(n(13),n(2));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},y=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue);h([Object(d.Prop)({type:Array,default:function(){return[]}})],y.prototype,"blocks",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"placeholders",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"content",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"values",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"cfgs",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"extras",void 0);y=h([d.Component],y);var O=n(96),m=n(149);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var R=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},E=function(e){Object(o.a)(n,e);var t=j(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue),P=(E=R([d.Component],E),n(102));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var x=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},S=Object(d.namespace)(P.c),T=function(e){Object(o.a)(n,e);var t=k(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue);x([S.Action(P.a.SET_TOKEN)],T.prototype,"setToken",void 0);var _=T=x([d.Component],T),L=n(43),w=n(81);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var U=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},B=Object(d.namespace)(w.c),C=function(e){Object(o.a)(n,e);var t=A(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(L.a)(n,[{key:"destroyed",value:function(){this.resetCmsState()}}]),n}(d.Vue);U([B.Action(w.a.GET_MENU)],C.prototype,"getMenu",void 0),U([B.Action(w.a.GET_PAGE)],C.prototype,"getPage",void 0),U([B.Action(w.a.GET_PAGE_BY_ID)],C.prototype,"getPageById",void 0),U([B.Action(w.a.RESET_STATE)],C.prototype,"resetCmsState",void 0),U([B.Getter],C.prototype,"menu",void 0),U([B.Getter],C.prototype,"flatMenu",void 0),U([B.Getter],C.prototype,"page",void 0),U([B.Getter("allMenus")],C.prototype,"allCmsMenus",void 0),U([B.Getter("getMenu")],C.prototype,"getCmsMenu",void 0);var D=C=U([d.Component],C),N=n(75);function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var G=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},I=Object(d.namespace)(N.c),M=function(e){Object(o.a)(n,e);var t=$(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue);G([I.Getter],M.prototype,"appLoading",void 0),G([I.Getter],M.prototype,"loadersMap",void 0),G([I.Getter("config")],M.prototype,"appCfg",void 0),G([I.Getter],M.prototype,"vars",void 0),G([I.Action(N.a.GET_REQUEST)],M.prototype,"getRequest",void 0),G([I.Action(N.a.POST_REQUEST)],M.prototype,"postRequest",void 0),G([I.Action(N.a.PUT_REQUEST)],M.prototype,"putRequest",void 0),G([I.Action(N.a.DELETE_REQUEST)],M.prototype,"deleteRequest",void 0),G([I.Action(N.a.SET_USER_LOCALE)],M.prototype,"setUserLocale",void 0);var Q=M=G([d.Component],M),V=n(222)},593:function(e,t,n){"use strict";n(313)},594:function(e,t,n){"use strict";n(314)},597:function(e,t,n){"use strict";n(46);var r=n(9),o=n(16),c=n(17),l=n(8),f=n(6),d=(n(13),n(2));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},y=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue);h([Object(d.Prop)({type:Array,default:function(){return[]}})],y.prototype,"blocks",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"placeholders",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"content",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"values",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"cfgs",void 0),h([Object(d.Prop)({type:[Array,Object],default:function(){return[]}})],y.prototype,"extras",void 0),h([Object(d.Prop)({type:Object,default:function(){return{}}})],y.prototype,"externalData",void 0),y=h([d.Component],y),t.a=y},598:function(e,t,n){"use strict";n.r(t);n(46),n(20),n(25),n(38),n(48),n(19),n(52),n(33),n(54),n(31);var r=n(0),o=n(3),c=n(9),l=n(43),f=n(16),d=n(17),v=n(8),h=n(6),y=(n(11),n(13),n(12),n(34),n(23),n(15),n(44),n(70),n(66),n(22),n(45),n(32),n(35),n(40),n(50),n(591)),O=n.n(y),m=n(592),j=n.n(m),R=n(2),E=n(51);function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var _=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},L=function(e){Object(f.a)(n,e);var t=T(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).contentPage=null,e.pageLayout=null,e}return Object(l.a)(n,[{key:"currentPage",get:function(){return this.contentOnly&&this.contentPage?this.contentPage:this.page}},{key:"setPageLayout",value:function(){var e=this;if(this.currentPage){var t={componentName:"",props:[],breadcrumbs:[]},n=j()(O()(this.currentPage.layout.name.replace(/[\s-_]*/,"")));t.componentName="".concat(n,"Layout");var r=this.currentPage.placeholders;t.props=S(S({},r),{},{breadcrumbs:[],externalData:this.externalData});var o=this.$route.path.split("/").filter((function(p){return!!p}));if(0!==o.length){t.breadcrumbs.push({title:"Главная",path:"/"}),t.props.breadcrumbs.push({title:"Главная",path:"/"});var c,l=P(o);try{var f=function(){var n=c.value,menu=e.flatMenu.find((function(e){return e.alias===n}));if(!menu)return"continue";t.breadcrumbs.push({path:"/".concat(menu.path),title:menu.title}),t.props.breadcrumbs.push({path:"/".concat(menu.path),title:menu.title})};for(l.s();!(c=l.n()).done;)f()}catch(e){l.e(e)}finally{l.f()}}this.pageLayout=t}}}]),n}(Object(R.mixins)(E.c));_([Object(R.Prop)({type:String})],L.prototype,"pageName",void 0),_([Object(R.Prop)({type:Number})],L.prototype,"pageId",void 0),_([Object(R.Prop)({type:Number,default:0})],L.prototype,"level",void 0),_([Object(R.Prop)({type:Boolean,default:!1})],L.prototype,"contentOnly",void 0),_([Object(R.Prop)({type:Boolean,default:!1})],L.prototype,"hideHead",void 0),_([Object(R.Prop)({type:Object,default:function(){return{}}})],L.prototype,"externalData",void 0);var w=L=_([Object(R.Component)({head:function(){var e,t,n,r;if(!this.hideHead){if(this.contentOnly)return{};var head={title:"",meta:[]};if(this.page){var o=this.page.page;o&&(head.title=(null===(e=this.page.page)||void 0===e?void 0:e.titleTag)||(null===(t=this.page.page)||void 0===t?void 0:t.title)||"",head.meta.push({name:"og:title",hid:"og:title",property:"og:title",content:(null===(n=this.page.page)||void 0===n?void 0:n.titleTag)||(null===(r=this.page.page)||void 0===r?void 0:r.title)||""}),o.description&&(head.meta.push({hid:"metadescription",name:"description",content:o.description}),head.meta.push({name:"og:description",hid:"og:description",property:"og:description",content:o.description})),o.keywords&&head.meta.push({hid:"keywords",name:"keywords",content:o.keywords}))}return head}},fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=((null===(n=e.$i18n)||void 0===n?void 0:n.locales)||[]).map((function(e){return e.code})),o="",e.pageName&&(o=e.pageName.split("/").filter((function(e){return!r.includes(e)})).filter(Boolean).join("/"),o="/".concat(o)),t.next=5,e.getPage({pageIdOrName:e.pageId||o,contentOnly:e.contentOnly});case 5:void 0===(c=t.sent)&&e.$nuxt.error({statusCode:404,message:"Page not found"}),e.contentOnly&&(e.contentPage=c),e.setPageLayout();case 9:case"end":return t.stop()}}),t)})))()}})],L),A=n(5),component=Object(A.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.pageLayout&&e.contentOnly?n("layout-placeholder",{attrs:{blocks:e.pageLayout.props.content,externalData:e.externalData}}):e.pageLayout?n(e.pageLayout.componentName,e._b({tag:"component",attrs:{"page-data":e.pageLayout.pageData,externalData:e.externalData}},"component",e.pageLayout.props,!1)):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{LayoutPlaceholder:n(201).default})},603:function(e,t,n){"use strict";n.r(t);n(46);var r=n(9),o=n(16),c=n(17),l=n(8),f=n(6),d=(n(13),n(2)),v=n(158),h=n(161);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var O=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(o.a)(n,e);var t=y(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(Object(d.mixins)(v.a)),j=m=O([Object(d.Component)({components:{PageBreadcrumbs:h.a}})],m),R=n(5),component=Object(R.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("page-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),n("layout-placeholder",{attrs:{blocks:e.content,externalData:e.externalData}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PageBreadcrumbs:n(347).default,LayoutPlaceholder:n(201).default})},604:function(e,t,n){"use strict";n.r(t);n(46);var r=n(9),o=n(16),c=n(17),l=n(8),f=n(6),d=(n(13),n(2)),v=n(158),h=n(161);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var O=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(o.a)(n,e);var t=y(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(Object(d.mixins)(v.a)),j=m=O([Object(d.Component)({components:{PageBreadcrumbs:h.a}})],m),R=n(5),component=Object(R.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout"},[n("page-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),n("layout-placeholder",{attrs:{blocks:e.content}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PageBreadcrumbs:n(347).default,LayoutPlaceholder:n(201).default})},605:function(e,t,n){"use strict";n.r(t);n(46);var r=n(9),o=n(16),c=n(17),l=n(8),f=n(6),d=(n(13),n(2));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},y=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(d.Vue),O=y=h([d.Component],y),m=n(5),component=Object(m.a)(O,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("Error")])}),[],!1,null,null,null);t.default=component.exports},74:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return R}));var r=n(0),o=n(3),c=(n(11),n(178),n(12),n(78),n(34),n(23),"user"),l="pass_request_timestamp",f="authToken",d=function(e){var t=new RegExp(/[-+()\s]/,"ig");return e.replace(t,"")},v="setUser",h="setPageLoadin",y="setError",O="setLoadingUser",m="setLoadedSuccess",j={REQUEST_PASSWORD:"requestPassword",GET_USER:"getUser",LOGIN:"login",LOGOUT:"logout",REGISTER:"register"};function R(){var e,t;return{namespaced:!0,state:function(){return{user:null,loading:{user:!1,login:!1,registration:!1,requestPassword:!1},error:null,isLoadingUser:!0,isLoadedSuccess:!1}},mutations:(e={},Object(o.a)(e,v,(function(e,t){e.user=t})),Object(o.a)(e,h,(function(e,t){var n=t.key,r=t.value;e.loading[n]=r})),Object(o.a)(e,y,(function(e,t){e.error=t})),Object(o.a)(e,O,(function(e,t){e.isLoadingUser=t})),Object(o.a)(e,m,(function(e,t){e.isLoadedSuccess=t})),e),actions:(t={},Object(o.a)(t,j.REGISTER,(function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.commit,r.prev=1,o(h,{key:"registration",value:!0}),o("appState/setLoading",{registration:!0},{root:!0}),o(y,null),console.log("register",{name:t.name,phone:d(t.phone)}),r.next=8,n.$api.user.signUp.execute({name:t.name,phone:d(t.phone)});case 8:return(c=r.sent).isFailure&&(l=c.getError(),o(y,null==l?void 0:l.message)),r.abrupt("return",c.isSuccess);case 13:return r.prev=13,r.t0=r.catch(1),o(y,r.t0),r.abrupt("return",!1);case 17:return r.prev=17,o(h,{key:"registration",value:!1}),o("appState/setLoading",{registration:!1},{root:!0}),r.finish(17);case 21:case"end":return r.stop()}}),r,null,[[1,13,17,21]])})))()})),Object(o.a)(t,j.GET_USER,(function(e){var t=arguments,n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,l,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.commit,c=t.length>1&&void 0!==t[1]?t[1]:{},r.prev=2,o("appState/setLoading",{user:!0},{root:!0}),r.next=6,n.$api.user.getUser.execute(c||{});case 6:if(!(l=r.sent).isSuccess){r.next=15;break}return f=l.getValue(),o(v,null==f?void 0:f.user),o(O,!1),o(m,!0),r.abrupt("return",null==f?void 0:f.user);case 15:o(O,!1),o(m,!1);case 17:return r.abrupt("return",!1);case 20:return r.prev=20,r.t0=r.catch(2),o(y,r.t0),o(O,!1),o(m,!1),r.abrupt("return",!1);case 26:return r.prev=26,o("appState/setLoading",{user:!1},{root:!0}),r.finish(26);case 29:case"end":return r.stop()}}),r,null,[[2,20,26,29]])})))()})),Object(o.a)(t,j.REQUEST_PASSWORD,(function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.commit,r.prev=1,o(h,{key:"requestPassword",value:!0}),o("appState/setLoading",{requestPassword:!0},{root:!0}),r.next=6,n.$api.user.requestPassword.execute({phone:d(t)});case 6:return(c=r.sent).isSuccess&&(f=Date.now(),localStorage.setItem(l,String(f))),r.abrupt("return",c.isSuccess);case 11:return r.prev=11,r.t0=r.catch(1),o(y,r.t0),r.abrupt("return",!1);case 15:return r.prev=15,o(h,{key:"requestPassword",value:!1}),o("appState/setLoading",{requestPassword:!1},{root:!0}),r.finish(15);case 19:case"end":return r.stop()}}),r,null,[[1,11,15,19]])})))()})),Object(o.a)(t,j.LOGOUT,(function(e){var t=e.commit,n=e.dispatch;n("userAuth/setToken",{authToken:""},{root:!0}),this.$cookies.remove(f),this.$cookies.remove("sessionToken"),t(v,null),n("userAuth/UNSET_TOKENS",null,{root:!0})})),Object(o.a)(t,j.LOGIN,(function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c,v,O;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.commit,r.prev=1,o(h,{key:"login",value:!0}),o("appState/setLoading",{login:!0},{root:!0}),c={username:d(t.username),password:t.password},r.next=7,n.$api.user.signIn.execute(c);case 7:if(!(v=r.sent).isSuccess){r.next=14;break}if(localStorage.removeItem(l),!(null==(O=v.getValue())?void 0:O.token)){r.next=14;break}return n.$cookies.set(f,O.token,{expires:new Date((new Date).setFullYear((new Date).getFullYear()+5))}),r.abrupt("return",{authToken:O.token,sessionToken:O.sessionToken});case 14:return r.abrupt("return",v.isSuccess);case 17:return r.prev=17,r.t0=r.catch(1),o(y,r.t0),r.abrupt("return",!1);case 21:return r.prev=21,o(h,{key:"login",value:!1}),o("appState/setLoading",{login:!1},{root:!0}),r.finish(21);case 25:case"end":return r.stop()}}),r,null,[[1,17,21,25]])})))()})),t),getters:{user:function(e){return e.user},isLoggedIn:function(e){var t=e.user;return Boolean(t&&t.id)},loading:function(e){return e.loading},userError:function(e){return e.error},isLoadingUser:function(e){return e.isLoadingUser},isLoadedSuccess:function(e){return e.isLoadedSuccess}}}}},75:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return d}));var r=n(3),o=n(0),c=(n(25),n(20),n(15),n(32),n(11),n(1)),l="appState",f={SET_USER_LOCALE:"SET_USER_LOCALE",GET_REQUEST:"GET_REQUEST",POST_REQUEST:"POST_REQUEST",PUT_REQUEST:"PUT_REQUEST",DELETE_REQUEST:"DELETE_REQUEST"};function d(){var e;return{namespaced:!0,state:function(){return{messages:[],loading:{},config:{},vars:{}}},actions:(e={},Object(r.a)(e,f.SET_USER_LOCALE,(function(e,t){this.$api.locale=t})),Object(r.a)(e,f.GET_REQUEST,(function(e){var t=arguments,n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=t.length,c=new Array(o>1?o-1:0),l=1;l<o;l++)c[l-1]=t[l];return e.next=3,(r=n.$api.agent.transport).get.apply(r,c);case 3:return f=e.sent,e.abrupt("return",f);case 5:case"end":return e.stop()}}),e)})))()})),Object(r.a)(e,f.POST_REQUEST,(function(e){var t=arguments,n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=t.length,c=new Array(o>1?o-1:0),l=1;l<o;l++)c[l-1]=t[l];return e.next=3,(r=n.$api.agent.transport).post.apply(r,c);case 3:return f=e.sent,e.abrupt("return",f);case 5:case"end":return e.stop()}}),e)})))()})),Object(r.a)(e,f.PUT_REQUEST,(function(e){var t=arguments,n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=t.length,c=new Array(o>1?o-1:0),l=1;l<o;l++)c[l-1]=t[l];return e.next=3,(r=n.$api.agent.transport).put.apply(r,c);case 3:return f=e.sent,e.abrupt("return",f);case 5:case"end":return e.stop()}}),e)})))()})),Object(r.a)(e,f.DELETE_REQUEST,(function(e){var t=arguments,n=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,c,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=t.length,c=new Array(o>1?o-1:0),l=1;l<o;l++)c[l-1]=t[l];return e.next=3,(r=n.$api.agent.transport).delete.apply(r,c);case 3:return f=e.sent,e.abrupt("return",f);case 5:case"end":return e.stop()}}),e)})))()})),e),mutations:{setNotification:function(e,t){e.messages.push(t)},setLoading:function(e,t){Object.keys(t).forEach((function(n){c.default.set(e.loading,n,t[n])}))},setConfig:function(e,t){e.config=t.config,e.vars=t.var}},getters:{config:function(e){return e.config},vars:function(e){return e.vars},loadersMap:function(e){return e.loading},appLoading:function(e){var t=e.loading;return Object.keys(t).map((function(e){return{key:e,state:t[e]}})).filter((function(i){return i.state}))}}}}},81:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return P}));var r=n(3),o=n(14),c=n(0),l=n(10),f=(n(11),n(127),n(70),n(15),n(25),n(257),n(66),"cms"),d="setPage",v="setPageLoadin",h="setError",y="setMenu",O="setAllMenu",m="setFlatMenu",j={GET_PAGE:"getPage",GET_PAGE_BY_ID:"getPageById",GET_MENU:"getMenu",RESET_STATE:"resetState"},R=function(e){var menu=e;menu.sort((function(e,t){return e.index-t.index}));var t=menu.find((function(e){return"homepage"===e.path}));t&&(t.path="");var n=Object(l.a)(menu);return[menu=menu.filter((function(i){return!i.isHidden})),n]},E=function(menu){for(var e=[],t=menu;t.length;){var n=t.pop();n&&(e.push(n),n.children.forEach((function(e){return t.unshift(e)})))}return e};function P(){var e,t;return{namespaced:!0,state:function(){return{page:null,loading:{page:!1,menu:!1},error:null,menus:{},menu:[],flatMenu:[]}},actions:(e={resetState:function(e){(0,e.commit)(d,null)}},Object(r.a)(e,j.GET_MENU,(function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,c,f,d,v,menu,h,j;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,r("appState/setLoading",{menu:!0},{root:!0}),n.next=5,t.$api.content.getContentMenus.execute({});case 5:if(!(c=n.sent).isSuccess){n.next=11;break}return f=c.getValue(),r(O,(null==f?void 0:f.contentMenus)||{}),(null==f?void 0:f.contentMenus)&&(null==f?void 0:f.contentMenus.default)&&(d=R(null==f?void 0:f.contentMenus.default.items),v=Object(o.a)(d,2),menu=v[0],h=v[1],j=E(Object(l.a)(h)),r(y,menu),r(m,j)),n.abrupt("return",f);case 11:return n.abrupt("return",[]);case 12:return n.prev=12,r("appState/setLoading",{menu:!1},{root:!0}),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[1,,12,15]])})))()})),Object(r.a)(e,j.GET_PAGE_BY_ID,(function(e,t){var n=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var o,c,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.commit,r.prev=1,o("appState/setLoading",{cmsPage:!0},{root:!0}),r.next=5,n.$api.content.getContentPageById.execute({pageId:t});case 5:if(!(c=r.sent).isSuccess){r.next=9;break}return l=c.getValue(),r.abrupt("return",l.content);case 9:return r.abrupt("return",void 0);case 12:return r.prev=12,r.t0=r.catch(1),o("appState/setLoading",{cmsPage:!1},{root:!0}),r.abrupt("return",void 0);case 16:case"end":return r.stop()}}),r,null,[[1,12]])})))()})),Object(r.a)(e,j.GET_PAGE,(function(e,t){var n=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var o,c,l,f,y,O;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e.commit,c=t.pageIdOrName,l=t.contentOnly,f=void 0!==l&&l,y=null,r.prev=3,o(v,{key:"page",value:!0}),o("appState/setLoading",{cmsPage:!0},{root:!0}),!Number.isInteger(c)){r.next=12;break}return r.next=9,n.$api.content.getContentPageById.execute({pageId:c});case 9:y=r.sent,r.next=16;break;case 12:if("string"!=typeof c){r.next=16;break}return r.next=15,n.$api.content.getContentPage.execute({pageSlug:c});case 15:y=r.sent;case 16:if(y.isSuccess){r.next=18;break}return r.abrupt("return",void 0);case 18:if(O=y.getValue().content,!f){r.next=21;break}return r.abrupt("return",O);case 21:return o(d,O),r.abrupt("return",O);case 25:return r.prev=25,r.t0=r.catch(3),o(h,r.t0),r.abrupt("return",void 0);case 29:return r.prev=29,o(v,{key:"page",value:!1}),o("appState/setLoading",{cmsPage:!1},{root:!0}),r.finish(29);case 33:case"end":return r.stop()}}),r,null,[[3,25,29,33]])})))()})),e),mutations:(t={},Object(r.a)(t,d,(function(e,t){e.page=t})),Object(r.a)(t,v,(function(e,t){var n=t.value;e.loading.menu=n})),Object(r.a)(t,y,(function(e,menu){e.menu=menu})),Object(r.a)(t,m,(function(e,t){e.flatMenu=t})),Object(r.a)(t,O,(function(e,t){e.menus=t})),Object(r.a)(t,h,(function(e,t){e.error=t})),t),getters:{page:function(e){return e.page},menu:function(e){return e.menu},flatMenu:function(e){return e.flatMenu},allMenus:function(e){return e.menus},getMenu:function(e){var t=e.menus;return function(e){return t[e]}}}}}},96:function(e,t,n){"use strict";n(46);var r=n(9),o=n(43),c=n(16),l=n(17),f=n(8),d=n(6),v=(n(13),n(12),n(34),n(2)),h=n(149);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(c.a)(n,e);var t=y(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).username="",e.address="",e.phone="",e.sex="",e.birthday="",e.email="",e}return Object(o.a)(n,[{key:"onChangeUser",value:function(e){e&&(this.username=e.username,this.address=e.address||"",this.phone=e.phone||"",this.sex=e.sexLabel||"",this.birthday=e.birthday||"",this.email=e.email||"")}},{key:"onLogout",value:function(){this.userLogout(),this.$router.replace("/")}},{key:"serializeForm",value:function(){return{username:this.username,address:this.address,phone:this.phone,sex:this.sex,birthday:this.birthday,email:this.email}}},{key:"submitForm",value:function(){console.log("on submit form ",this.serializeForm())}}]),n}(Object(v.mixins)(h.a));O([Object(v.Watch)("user",{immediate:!0})],m.prototype,"onChangeUser",null),m=O([v.Component],m),t.a=m}}]);
//# sourceMappingURL=npm.sitis-nuxt-6542f23.js.map