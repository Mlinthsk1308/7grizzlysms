(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,r){"use strict";r(5),r(6),r(8),r(14);var o=r(2),n=r(42),c=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},l=Object(o.namespace)(n.c),d=class extends o.Vue{constructor(){super(...arguments),this.username="",this.address="",this.phone="",this.sex="",this.birthday="",this.email=""}onChangeUser(e){e&&(this.username=e.username,this.address=e.address||"",this.phone=e.phone||"",this.sex=e.sexLabel||"",this.birthday=e.birthday||"",this.email=e.email||"")}onLogout(){this.userLogout(),this.$router.replace("/")}serializeForm(){return{username:this.username,address:this.address,phone:this.phone,sex:this.sex,birthday:this.birthday,email:this.email}}submitForm(){console.log("on submit form ",this.serializeForm())}};c([l.Action(n.a.LOGIN)],d.prototype,"login",void 0),c([l.Action(n.a.REGISTER)],d.prototype,"registerUser",void 0),c([l.Action(n.a.LOGOUT)],d.prototype,"userLogout",void 0),c([l.Action(n.a.REQUEST_PASSWORD)],d.prototype,"requestPassword",void 0),c([l.Action(n.a.GET_USER)],d.prototype,"getUser",void 0),c([l.Getter("user")],d.prototype,"user",void 0),c([l.Getter("isLoggedIn")],d.prototype,"isLoggedIn",void 0),c([l.Getter("isLoadingUser")],d.prototype,"isLoadingUser",void 0),c([l.Getter("isLoadedSuccess")],d.prototype,"isLoadedSuccess",void 0),c([l.Getter("loading")],d.prototype,"loading",void 0),c([l.Getter("userError")],d.prototype,"userError",void 0),c([Object(o.Watch)("user",{immediate:!0})],d.prototype,"onChangeUser",null),d=c([o.Component],d),t.a=d},110:function(e,t,r){"use strict";var o=r(2),n=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},c=class extends o.Vue{};n([Object(o.Prop)({type:Array,default:()=>[]})],c.prototype,"content",void 0),n([Object(o.Prop)({type:Array,default:()=>[]})],c.prototype,"breadcrumbs",void 0),n([Object(o.Prop)({type:Object,default:()=>({})})],c.prototype,"externalData",void 0),c=n([o.Component],c),t.a=c},113:function(e,t,r){"use strict";var o=r(2),n=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},c=class extends o.Vue{};n([Object(o.Prop)({type:Array,default:()=>[]})],c.prototype,"breadcrumbs",void 0);var l=c=n([o.Component],c),d=(r(533),r(4)),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.breadcrumbs.length?r("div",{staticClass:"breadcrumbs"},[r("ul",{staticClass:"breadcrumbs__list"},e._l(e.breadcrumbs,(function(t,o){var path=t.path,title=t.title;return r("li",{key:o,staticClass:"breadcrumbs__item",class:{active:o===e.breadcrumbs.length-1}},[o===e.breadcrumbs.length-1?[e._v(e._s(title))]:r("nuxt-link",{attrs:{to:path}},[e._v(e._s(title))])],2)})),0)]):e._e()}),[],!1,null,null,null);t.a=component.exports},145:function(e,t,r){"use strict";r.r(t),r.d(t,"extractBlocks",(function(){return n})),r.d(t,"extractLayout",(function(){return c}));r(5),r(6);class o{constructor(data){this.id=data.id,this.componentName=data.block_name,this.isContainer=data.is_container,this.slots=data.placeholders?Object.keys(data.placeholders):[],this.placeholders=data.placeholders,this.props={values:data.values,cfgs:data.cfgs,extras:data.extras}}}var n=e=>e.map((b=>new o(b))),c=e=>{var t={componentName:null,props:[]};return e.layout&&(t.componentName="Layout".concat(e.layout.id),t.props=e.placeholders.content),t}},146:function(e,t,r){"use strict";r.r(t);r(5),r(6);var o=r(2),n=r(277),c=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},l=class extends o.Vue{constructor(){super(...arguments),this.currentLevel=0}get renderBlocks(){var e=[];return[...this.blocks].map((t=>{var r,o,n,c,l;if((null===(r=t.extras)||void 0===r?void 0:r.placeholder)&&t.placeholders&&(null===(o=t.placeholders)||void 0===o?void 0:o[null===(n=t.extras)||void 0===n?void 0:n.placeholder])){var d=null===(c=t.placeholders)||void 0===c?void 0:c[null===(l=null==t?void 0:t.extras)||void 0===l?void 0:l.placeholder];if(Array.isArray(d))return void e.push(...d);e.push(d)}e.push(t)})),Object(n.extractBlocks)(e)}created(){this.currentLevel=this.level}};c([Object(o.Prop)({type:String})],l.prototype,"name",void 0),c([Object(o.Prop)({type:Number,default:0})],l.prototype,"level",void 0),c([Object(o.Prop)({type:Array,default:()=>[]})],l.prototype,"blocks",void 0),c([Object(o.Prop)({type:Object,default:()=>({})})],l.prototype,"externalData",void 0);var d=l=c([Object(o.Component)({})],l),f=r(4),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.renderBlocks,(function(t,o){return r(t.componentName,e._b({key:o,tag:"component",attrs:{"external-data":e.externalData},scopedSlots:e._u([e._l(t.slots,(function(o){return{key:o,fn:function(){return[r("LayoutPlaceholder",{key:o,tag:"component",attrs:{level:e.currentLevel+1,blocks:t.placeholders[o],"external-data":e.externalData}})]},proxy:!0}}))],null,!0)},"component",t.props,!1))})),1)}),[],!1,null,null,null);t.default=component.exports},153:function(e,t,r){"use strict";var o=r(47),n=r(42),c=r(43),l=r(65);t.a={[c.c]:Object(c.b)(),[n.c]:Object(n.b)(),[l.c]:Object(l.b)(),[o.c]:Object(o.b)()}},166:function(e,t,r){"use strict";var o=r(0),n=(r(5),r(6),r(84),r(2)),c=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},l=class extends n.Vue{constructor(){super(...arguments),this.meta={}}loadMeta(){var e=this;return Object(o.a)((function*(){var{path:path}=e.$route,{data:meta}=yield e.$api.agent.transport("cms/page-by-path?path=".concat(path)).catch((()=>{e.$nuxt.error({statusCode:404})}));e.meta=meta}))()}getPageHead(){var e,t,r,o,n,c,l,d,f,v,h,y,m,O,E,j,P,S,T=(null===(t=null===(e=this.meta)||void 0===e?void 0:e.page)||void 0===t?void 0:t.title_tag)||(null===(o=null===(r=this.meta)||void 0===r?void 0:r.page)||void 0===o?void 0:o.title)||(null===(d=null===(l=null===(c=null===(n=this.$store)||void 0===n?void 0:n.state)||void 0===c?void 0:c.appState)||void 0===l?void 0:l.config)||void 0===d?void 0:d.siteName)||"",head={title:T,meta:[]};return T&&head.meta.push({name:"og:title",hid:"og:title",property:"og:title",content:T}),(null===(v=null===(f=this.meta)||void 0===f?void 0:f.page)||void 0===v?void 0:v.description)&&(head.meta.push({hid:"metadescription",name:"description",content:null===(y=null===(h=this.meta)||void 0===h?void 0:h.page)||void 0===y?void 0:y.description}),head.meta.push({name:"og:description",hid:"og:description",property:"og:description",content:null===(O=null===(m=this.meta)||void 0===m?void 0:m.page)||void 0===O?void 0:O.description})),(null===(j=null===(E=this.meta)||void 0===E?void 0:E.page)||void 0===j?void 0:j.keywords)&&head.meta.push({name:"keywords",content:null===(S=null===(P=this.meta)||void 0===P?void 0:P.page)||void 0===S?void 0:S.keywords}),head}};l=c([Object(n.Component)({head(){return this.getPageHead()},fetch(){var e=this;return Object(o.a)((function*(){yield e.loadMeta()}))()}})],l),t.a=l},25:function(e,t,r){"use strict";r.d(t,"d",(function(){return l.a})),r.d(t,"f",(function(){return d.a})),r.d(t,"e",(function(){return E})),r.d(t,"c",(function(){return _})),r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return U.a}));var o=r(2),n=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},c=class extends o.Vue{};n([Object(o.Prop)({type:Array,default:()=>[]})],c.prototype,"blocks",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"placeholders",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"content",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"values",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"cfgs",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"extras",void 0);c=n([o.Component],c);var l=r(62),d=r(104),f=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},v=class extends o.Vue{},h=(v=f([o.Component],v),r(65)),y=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},m=Object(o.namespace)(h.c),O=class extends o.Vue{};y([m.Action(h.a.SET_TOKEN)],O.prototype,"setToken",void 0);var E=O=y([o.Component],O),j=r(47),P=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},S=Object(o.namespace)(j.c),T=class extends o.Vue{destroyed(){this.resetCmsState()}};P([S.Action(j.a.GET_MENU)],T.prototype,"getMenu",void 0),P([S.Action(j.a.GET_PAGE)],T.prototype,"getPage",void 0),P([S.Action(j.a.GET_PAGE_BY_ID)],T.prototype,"getPageById",void 0),P([S.Action(j.a.RESET_STATE)],T.prototype,"resetCmsState",void 0),P([S.Getter],T.prototype,"menu",void 0),P([S.Getter],T.prototype,"flatMenu",void 0),P([S.Getter],T.prototype,"page",void 0),P([S.Getter("allMenus")],T.prototype,"allCmsMenus",void 0),P([S.Getter("getMenu")],T.prototype,"getCmsMenu",void 0);var _=T=P([o.Component],T),L=r(43),k=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},x=Object(o.namespace)(L.c),R=class extends o.Vue{};k([x.Getter],R.prototype,"appLoading",void 0),k([x.Getter],R.prototype,"loadersMap",void 0),k([x.Getter("config")],R.prototype,"appCfg",void 0),k([x.Getter],R.prototype,"vars",void 0),k([x.Action(L.a.GET_REQUEST)],R.prototype,"getRequest",void 0),k([x.Action(L.a.POST_REQUEST)],R.prototype,"postRequest",void 0),k([x.Action(L.a.PUT_REQUEST)],R.prototype,"putRequest",void 0),k([x.Action(L.a.DELETE_REQUEST)],R.prototype,"deleteRequest",void 0),k([x.Action(L.a.SET_USER_LOCALE)],R.prototype,"setUserLocale",void 0);var w=R=k([o.Component],R),U=r(166)},255:function(e,t,r){e.exports={}},256:function(e,t,r){e.exports={}},262:function(e,t,r){"use strict";r.r(t);var o={name:"WidgetAdmin",props:{baseApiUrl:{type:String,default:""}},fetch(){this.currentCookies=this.$cookies.get("_adminIdentity")},data:()=>({linkList:{cmsPage:{mainLink:"/admin#!/template/cmsadmin~2Fdefault~2Findex/update/"},product:{mainLink:"/admin#!/default/9/shopadmin/products/index/"},category:{mainLink:"/admin#!/default/9/shopadmin/categories/index/"}},currentCookies:null}),computed:{adminLink:function(){var e=Boolean(!!this.currentProduct),t=Boolean(!!this.currentCategory);return Boolean(!!this.currentCmsPage&&!t&&!e)?this.currentCmsPage:t?this.currentCategory:e?this.currentProduct:""},currentCmsPage(){var e,t,r=this.$store.getters["cms/page"]||null;return r?this.gatherLink({id:(null==r||null===(e=r.page)||void 0===e?void 0:e.navId)||(null==r||null===(t=r.page)||void 0===t?void 0:t.id),link:this.linkList.cmsPage.mainLink}):null},currentCategory(){var e,t,r=this.$store.getters["catalog/currentCategory"]||null;return r&&(null===(e=this.$route)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.pathMatch)===r.slug?this.gatherLink({id:null==r?void 0:r.id,link:this.linkList.category.mainLink}):null},currentProduct(){var e,t,r=this.$store.getters["products/currentProduct"]||null;return r&&(null===(e=this.$route)||void 0===e||null===(t=e.params)||void 0===t?void 0:t.slug)===r.slug?this.gatherLink({id:null==r?void 0:r.id,link:this.linkList.product.mainLink}):null}},methods:{gatherLink(e){var{link:link,id:t}=e,r=this.baseApiUrl;return"".concat(r).concat(link).concat(t)}}},n=(r(532),r(4)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.adminLink&&e.currentCookies?r("div",{staticClass:"widget-admin"},[r("a",{attrs:{href:e.adminLink,target:"_blank"}},[r("svg",{attrs:{width:"800px",height:"800px",viewBox:"0 0 24 24",id:"_24x24_On_Light_Edit","data-name":"24x24/On Light/Edit",xmlns:"http://www.w3.org/2000/svg"}},[r("rect",{attrs:{id:"view-box",width:"24",height:"24",fill:"none"}}),e._v(" "),r("path",{attrs:{id:"Shape",d:"M.75,17.5A.751.751,0,0,1,0,16.75V12.569a.755.755,0,0,1,.22-.53L11.461.8a2.72,2.72,0,0,1,3.848,0L16.7,2.191a2.72,2.72,0,0,1,0,3.848L5.462,17.28a.747.747,0,0,1-.531.22ZM1.5,12.879V16h3.12l7.91-7.91L9.41,4.97ZM13.591,7.03l2.051-2.051a1.223,1.223,0,0,0,0-1.727L14.249,1.858a1.222,1.222,0,0,0-1.727,0L10.47,3.91Z",transform:"translate(3.25 3.25)",fill:"white"}})])])]):e._e()}),[],!1,null,null,null);t.default=component.exports},277:function(e,t,r){"use strict";r.r(t);var o=r(145);r.d(t,"extractLayout",(function(){return o.extractLayout})),r.d(t,"extractBlocks",(function(){return o.extractBlocks}))},42:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return E}));var o=r(0),n=(r(128),r(8),r(45),r(14),"user"),c="pass_request_timestamp",l="authToken",d=e=>{var t=new RegExp(/[-+()\s]/,"ig");return e.replace(t,"")},f="setUser",v="setPageLoadin",h="setError",y="setLoadingUser",m="setLoadedSuccess",O={REQUEST_PASSWORD:"requestPassword",GET_USER:"getUser",LOGIN:"login",LOGOUT:"logout",REGISTER:"register"};function E(){return{namespaced:!0,state:()=>({user:null,loading:{user:!1,login:!1,registration:!1,requestPassword:!1},error:null,isLoadingUser:!0,isLoadedSuccess:!1}),mutations:{[f]:(e,t)=>{e.user=t},[v]:(e,t)=>{var{key:r,value:o}=t;e.loading[r]=o},[h]:(e,t)=>{e.error=t},[y]:(e,t)=>{e.isLoadingUser=t},[m]:(e,t)=>{e.isLoadedSuccess=t}},actions:{[O.REGISTER](e,t){var r=this;return Object(o.a)((function*(){var{commit:o}=e;try{o(v,{key:"registration",value:!0}),o("appState/setLoading",{registration:!0},{root:!0}),o(h,null),console.log("register",{name:t.name,phone:d(t.phone)});var n=yield r.$api.user.signUp.execute({name:t.name,phone:d(t.phone)});if(n.isFailure){var c=n.getError();o(h,null==c?void 0:c.message)}return n.isSuccess}catch(c){return o(h,c),!1}finally{o(v,{key:"registration",value:!1}),o("appState/setLoading",{registration:!1},{root:!0})}}))()},[O.GET_USER](e){var t=arguments,r=this;return Object(o.a)((function*(){var{commit:o}=e,n=t.length>1&&void 0!==t[1]?t[1]:{};try{o("appState/setLoading",{user:!0},{root:!0});var c=yield r.$api.user.getUser.execute(n||{});if(c.isSuccess){var l=c.getValue();return o(f,null==l?void 0:l.user),o(y,!1),o(m,!0),null==l?void 0:l.user}return o(y,!1),o(m,!1),!1}catch(e){return o(h,e),o(y,!1),o(m,!1),!1}finally{o("appState/setLoading",{user:!1},{root:!0})}}))()},[O.REQUEST_PASSWORD](e,t){var r=this;return Object(o.a)((function*(){var{commit:o}=e;try{o(v,{key:"requestPassword",value:!0}),o("appState/setLoading",{requestPassword:!0},{root:!0});var n=yield r.$api.user.requestPassword.execute({phone:d(t)});if(n.isSuccess){var l=Date.now();localStorage.setItem(c,String(l))}return n.isSuccess}catch(e){return o(h,e),!1}finally{o(v,{key:"requestPassword",value:!1}),o("appState/setLoading",{requestPassword:!1},{root:!0})}}))()},[O.LOGOUT](e){var{commit:t,dispatch:r}=e;r("userAuth/setToken",{authToken:""},{root:!0}),this.$cookies.remove(l),this.$cookies.remove("sessionToken"),t(f,null),r("userAuth/UNSET_TOKENS",null,{root:!0})},[O.LOGIN](e,t){var r=this;return Object(o.a)((function*(){var{commit:o}=e;try{o(v,{key:"login",value:!0}),o("appState/setLoading",{login:!0},{root:!0});var n={username:d(t.username),password:t.password},f=yield r.$api.user.signIn.execute(n);if(f.isSuccess){localStorage.removeItem(c);var y=f.getValue();if(null==y?void 0:y.token)return r.$cookies.set(l,y.token,{expires:new Date((new Date).setFullYear((new Date).getFullYear()+5))}),{authToken:y.token,sessionToken:y.sessionToken}}return f.isSuccess}catch(e){return o(h,e),!1}finally{o(v,{key:"login",value:!1}),o("appState/setLoading",{login:!1},{root:!0})}}))()}},getters:{user:e=>{var{user:t}=e;return t},isLoggedIn:e=>{var{user:t}=e;return Boolean(t&&t.id)},loading:e=>{var{loading:t}=e;return t},userError:e=>{var{error:t}=e;return t},isLoadingUser:e=>{var{isLoadingUser:t}=e;return t},isLoadedSuccess:e=>{var{isLoadedSuccess:t}=e;return t}}}}},43:function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d}));var o=r(0),n=(r(5),r(6),r(1)),c="appState",l={SET_USER_LOCALE:"SET_USER_LOCALE",GET_REQUEST:"GET_REQUEST",POST_REQUEST:"POST_REQUEST",PUT_REQUEST:"PUT_REQUEST",DELETE_REQUEST:"DELETE_REQUEST"};function d(){return{namespaced:!0,state:()=>({messages:[],loading:{},config:{},vars:{}}),actions:{[l.SET_USER_LOCALE](e,t){this.$api.locale=t},[l.GET_REQUEST](e){var t=arguments,r=this;return Object(o.a)((function*(){for(var e=t.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=t[n];return yield r.$api.agent.transport.get(...o)}))()},[l.POST_REQUEST](e){var t=arguments,r=this;return Object(o.a)((function*(){for(var e=t.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=t[n];return yield r.$api.agent.transport.post(...o)}))()},[l.PUT_REQUEST](e){var t=arguments,r=this;return Object(o.a)((function*(){for(var e=t.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=t[n];return yield r.$api.agent.transport.put(...o)}))()},[l.DELETE_REQUEST](e){var t=arguments,r=this;return Object(o.a)((function*(){for(var e=t.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=t[n];return yield r.$api.agent.transport.delete(...o)}))()}},mutations:{setNotification:(e,t)=>{e.messages.push(t)},setLoading:(e,t)=>{Object.keys(t).forEach((r=>{n.default.set(e.loading,r,t[r])}))},setConfig:(e,t)=>{e.config=t.config,e.vars=t.var}},getters:{config:e=>{var{config:t}=e;return t},vars:e=>{var{vars:t}=e;return t},loadersMap:e=>{var{loading:t}=e;return t},appLoading:e=>{var{loading:t}=e;return Object.keys(t).map((e=>({key:e,state:t[e]}))).filter((i=>i.state))}}}}},47:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return y})),r.d(t,"b",(function(){return m}));var o=r(0),n=(r(85),r(5),r(6),"cms"),c="setPage",l="setPageLoadin",d="setError",f="setMenu",v="setAllMenu",h="setFlatMenu",y={GET_PAGE:"getPage",GET_PAGE_BY_ID:"getPageById",GET_MENU:"getMenu",RESET_STATE:"resetState"};function m(){return{namespaced:!0,state:()=>({page:null,loading:{page:!1,menu:!1},error:null,menus:{},menu:[],flatMenu:[]}),actions:{resetState(e){var{commit:t}=e;t(c,null)},[y.GET_MENU](e){var t=this;return Object(o.a)((function*(){var{commit:r}=e;try{r("appState/setLoading",{menu:!0},{root:!0});var o=yield t.$api.content.getContentMenus.execute({});if(o.isSuccess){var n=o.getValue();if(r(v,(null==n?void 0:n.contentMenus)||{}),(null==n?void 0:n.contentMenus)&&(null==n?void 0:n.contentMenus.default)){var[menu,c]=(e=>{var menu=e;menu.sort(((e,t)=>e.index-t.index));var t=menu.find((e=>"homepage"===e.path));t&&(t.path="");var r=[...menu];return[menu=menu.filter((i=>!i.isHidden)),r]})(null==n?void 0:n.contentMenus.default.items),l=(menu=>{for(var e=[],t=menu;t.length;){var r=t.pop();r&&(e.push(r),r.children.forEach((e=>t.unshift(e))))}return e})([...c]);r(f,menu),r(h,l)}return n}return[]}finally{r("appState/setLoading",{menu:!1},{root:!0})}}))()},[y.GET_PAGE_BY_ID](e,t){var r=this;return Object(o.a)((function*(){var{commit:o}=e;try{o("appState/setLoading",{cmsPage:!0},{root:!0});var n=yield r.$api.content.getContentPageById.execute({pageId:t});return n.isSuccess?n.getValue().content:void 0}catch(e){return void o("appState/setLoading",{cmsPage:!1},{root:!0})}}))()},[y.GET_PAGE](e,t){var r=this;return Object(o.a)((function*(){var{commit:o}=e,{pageIdOrName:n,contentOnly:f=!1}=t,v=null;try{if(o(l,{key:"page",value:!0}),o("appState/setLoading",{cmsPage:!0},{root:!0}),Number.isInteger(n)?v=yield r.$api.content.getContentPageById.execute({pageId:n}):"string"==typeof n&&(v=yield r.$api.content.getContentPage.execute({pageSlug:n})),!v.isSuccess)return;var h=v.getValue().content;return f||o(c,h),h}catch(e){return void o(d,e)}finally{o(l,{key:"page",value:!1}),o("appState/setLoading",{cmsPage:!1},{root:!0})}}))()}},mutations:{[c]:(e,t)=>{e.page=t},[l]:(e,t)=>{var{value:r}=t;e.loading.menu=r},[f]:(e,menu)=>{e.menu=menu},[h]:(e,t)=>{e.flatMenu=t},[v]:(e,t)=>{e.menus=t},[d]:(e,t)=>{e.error=t}},getters:{page:e=>{var{page:t}=e;return t},menu:e=>{var{menu:t}=e;return t},flatMenu:e=>{var{flatMenu:t}=e;return t},allMenus:e=>{var{menus:t}=e;return t},getMenu:e=>{var{menus:t}=e;return e=>t[e]}}}}},532:function(e,t,r){"use strict";r(255)},533:function(e,t,r){"use strict";r(256)},536:function(e,t,r){"use strict";var o=r(2),n=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},c=class extends o.Vue{};n([Object(o.Prop)({type:Array,default:()=>[]})],c.prototype,"blocks",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"placeholders",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"content",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"values",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"cfgs",void 0),n([Object(o.Prop)({type:[Array,Object],default:()=>[]})],c.prototype,"extras",void 0),n([Object(o.Prop)({type:Object,default:()=>({})})],c.prototype,"externalData",void 0),c=n([o.Component],c),t.a=c},537:function(e,t,r){"use strict";r.r(t);var o=r(0),n=r(7),c=(r(5),r(6),r(8),r(14),r(23),r(84),r(24),r(530)),l=r.n(c),d=r(531),f=r.n(d),v=r(2),h=r(25);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},E=class extends(Object(v.mixins)(h.c)){constructor(){super(...arguments),this.contentPage=null,this.pageLayout=null}get currentPage(){return this.contentOnly&&this.contentPage?this.contentPage:this.page}setPageLayout(){var e=this;if(this.currentPage){var t={componentName:"",props:[],breadcrumbs:[]},r=f()(l()(this.currentPage.layout.name.replace(/[\s-_]*/,"")));t.componentName="".concat(r,"Layout");var o=this.currentPage.placeholders;t.props=m(m({},o),{},{breadcrumbs:[],externalData:this.externalData});var n=this.$route.path.split("/").filter((p=>!!p));if(0!==n.length){t.breadcrumbs.push({title:"Главная",path:"/"}),t.props.breadcrumbs.push({title:"Главная",path:"/"});var c=function(r){var menu=e.flatMenu.find((e=>e.alias===r));if(!menu)return"continue";t.breadcrumbs.push({path:"/".concat(menu.path),title:menu.title}),t.props.breadcrumbs.push({path:"/".concat(menu.path),title:menu.title})};for(var d of n)c(d)}this.pageLayout=t}}};O([Object(v.Prop)({type:String})],E.prototype,"pageName",void 0),O([Object(v.Prop)({type:Number})],E.prototype,"pageId",void 0),O([Object(v.Prop)({type:Number,default:0})],E.prototype,"level",void 0),O([Object(v.Prop)({type:Boolean,default:!1})],E.prototype,"contentOnly",void 0),O([Object(v.Prop)({type:Boolean,default:!1})],E.prototype,"hideHead",void 0),O([Object(v.Prop)({type:Object,default:()=>({})})],E.prototype,"externalData",void 0);var j=E=O([Object(v.Component)({head(){var e,t,r,o;if(!this.hideHead){if(this.contentOnly)return{};var head={title:"",meta:[]};if(this.page){var{page:n}=this.page;n&&(head.title=(null===(e=this.page.page)||void 0===e?void 0:e.titleTag)||(null===(t=this.page.page)||void 0===t?void 0:t.title)||"",head.meta.push({name:"og:title",hid:"og:title",property:"og:title",content:(null===(r=this.page.page)||void 0===r?void 0:r.titleTag)||(null===(o=this.page.page)||void 0===o?void 0:o.title)||""}),n.description&&(head.meta.push({hid:"metadescription",name:"description",content:n.description}),head.meta.push({name:"og:description",hid:"og:description",property:"og:description",content:n.description})),n.keywords&&head.meta.push({hid:"keywords",name:"keywords",content:n.keywords}))}return head}},fetch(){var e=this;return Object(o.a)((function*(){var t,r=((null===(t=e.$i18n)||void 0===t?void 0:t.locales)||[]).map((e=>e.code)),o="";e.pageName&&(o=e.pageName.split("/").filter((e=>!r.includes(e))).filter(Boolean).join("/"),o="/".concat(o));var n=yield e.getPage({pageIdOrName:e.pageId||o,contentOnly:e.contentOnly});void 0===n&&e.$nuxt.error({statusCode:404,message:"Page not found"}),e.contentOnly&&(e.contentPage=n),e.setPageLayout()}))()}})],E),P=r(4),component=Object(P.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.pageLayout&&e.contentOnly?r("layout-placeholder",{attrs:{blocks:e.pageLayout.props.content,externalData:e.externalData}}):e.pageLayout?r(e.pageLayout.componentName,e._b({tag:"component",attrs:{"page-data":e.pageLayout.pageData,externalData:e.externalData}},"component",e.pageLayout.props,!1)):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{LayoutPlaceholder:r(146).default})},542:function(e,t,r){"use strict";r.r(t);var o=r(2),n=r(110),c=r(113),l=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},d=class extends(Object(o.mixins)(n.a)){},f=d=l([Object(o.Component)({components:{PageBreadcrumbs:c.a}})],d),v=r(4),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout"},[r("page-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),r("layout-placeholder",{attrs:{blocks:e.content,externalData:e.externalData}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PageBreadcrumbs:r(288).default,LayoutPlaceholder:r(146).default})},543:function(e,t,r){"use strict";r.r(t);var o=r(2),n=r(110),c=r(113),l=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},d=class extends(Object(o.mixins)(n.a)){},f=d=l([Object(o.Component)({components:{PageBreadcrumbs:c.a}})],d),v=r(4),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"layout"},[r("page-breadcrumbs",{attrs:{breadcrumbs:e.breadcrumbs}}),r("layout-placeholder",{attrs:{blocks:e.content}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PageBreadcrumbs:r(288).default,LayoutPlaceholder:r(146).default})},544:function(e,t,r){"use strict";r.r(t);var o=r(2),n=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},c=class extends o.Vue{},l=c=n([o.Component],c),d=r(4),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._v("Error")])}),[],!1,null,null,null);t.default=component.exports},62:function(e,t,r){"use strict";r(5),r(6),r(8),r(14);var o=r(2),n=r(104),c=function(e,t,r,desc){var o,n=arguments.length,c=n<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(n<3?o(c):n>3?o(t,r,c):o(t,r))||c);return n>3&&c&&Object.defineProperty(t,r,c),c},l=class extends(Object(o.mixins)(n.a)){constructor(){super(...arguments),this.username="",this.address="",this.phone="",this.sex="",this.birthday="",this.email=""}onChangeUser(e){e&&(this.username=e.username,this.address=e.address||"",this.phone=e.phone||"",this.sex=e.sexLabel||"",this.birthday=e.birthday||"",this.email=e.email||"")}onLogout(){this.userLogout(),this.$router.replace("/")}serializeForm(){return{username:this.username,address:this.address,phone:this.phone,sex:this.sex,birthday:this.birthday,email:this.email}}submitForm(){console.log("on submit form ",this.serializeForm())}};c([Object(o.Watch)("user",{immediate:!0})],l.prototype,"onChangeUser",null),l=c([o.Component],l),t.a=l},65:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return f}));var o="userAuth",n="SET_SESSION_TOKEN",c="UNSET_TOKENS",l="SET_TOKENS",d={SET_TOKEN:"setToken",SET_SESSION_TOKEN:"SET_SESSION_TOKEN",SET_TOKENS:"SET_TOKENS",UNSET_TOKENS:"UNSET_TOKENS"};function f(){return{namespaced:!0,state:()=>({sessionToken:null,authToken:null}),actions:{[d.SET_TOKEN](e,t){var r,o,n,c;this.$api.auth=t,this.$api.locale=(null===(r=this.$api)||void 0===r?void 0:r.userLocale)||(null===(c=null===(n=null===(o=this.$api)||void 0===o?void 0:o.configProps)||void 0===n?void 0:n.headers)||void 0===c?void 0:c["x-user-locale"])||""},[d.SET_TOKENS](e,t){var{commit:r}=e;r(l,t)},[d.SET_SESSION_TOKEN](e,t){var r,o,c,l,d,{commit:f}=e;f(n,t),this.$api.auth={sessionToken:t,authToken:(null===(r=this.$api)||void 0===r?void 0:r.authToken)||""},this.$api.locale=(null===(o=this.$api)||void 0===o?void 0:o.userLocale)||(null===(d=null===(l=null===(c=this.$api)||void 0===c?void 0:c.configProps)||void 0===l?void 0:l.headers)||void 0===d?void 0:d["x-user-locale"])||""},[d.UNSET_TOKENS](e){var{commit:t}=e;t(c)}},mutations:{[n]:(e,t)=>{e.sessionToken=t},[l]:(e,t)=>{var{sessionToken:r,authToken:o}=t;r&&(e.sessionToken=r),o&&(e.authToken=o)},[c]:e=>{e.sessionToken=null,e.authToken=null}},getters:{sessionToken:e=>{var{sessionToken:t}=e;return t},authToken:e=>{var{authToken:t}=e;return t}}}}}}]);
//# sourceMappingURL=npm.sitis-nuxt-085710a.modern.js.map