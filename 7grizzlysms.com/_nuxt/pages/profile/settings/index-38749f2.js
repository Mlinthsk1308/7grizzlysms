(window.webpackJsonp=window.webpackJsonp||[]).push([[263],{1120:function(t,e,n){t.exports={}},1284:function(t,e,n){"use strict";n(1120)},1479:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"w-8 h-8"},[e("img",{staticClass:"w-full h-full",attrs:{src:n(1119),alt:"img"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"text-sm sm:text-base"},[t._v("Instagram:")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"text-sm sm:text-base"},[t._v("VK:")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"text-sm sm:text-base"},[t._v("Facebook:")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"text-sm sm:text-base"},[t._v("Telegram")])])}],o=n(3),c=n(0),l=(n(19),n(33),n(31),n(70),n(20),n(22),n(15),n(13),n(25),n(38),n(11),n(223)),m=n(217),f=n(347),v=n(612);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h,_={name:"ProfileSettings",mixins:[n(51).f,v.a],data:function(){return{localization:m.a,userSettings:{},refParams:null,settings:{minBalanceLevel:"",apiKey:"",onSound:null,isShowInfoAboutOrders:null,phone:"",vk:"",instagram:"",facebook:"",telegram:""}}},created:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUserSettings();case 2:return e.next=4,t.getRefParams();case 4:case"end":return e.stop()}}),e)})))()},components:{NavigationPanel:l.default,ServicesList:function(){return Promise.resolve().then(n.bind(null,315))},Breadcrumbs:f.default},computed:{getCurrency:function(){return this.$store.getters["currency/currentCurrency"]},getBreadcrumbs:function(){return[{path:"/",title:this.$t("breadcrumbs.homePage")},{path:this.$route.path,title:this.$t("profile.settings.title")}]},isTwoFactorEnabled:function(){var t,e;return(null===(t=this.$store.state.user)||void 0===t||null===(e=t.user)||void 0===e?void 0:e.isTwoFactorEnabled)||!1},isRefParamsValid:function(){var t=this.refParams||{};return!Boolean(Object.keys(t).find((function(e){t[e]})))},getRefParamsLink:function(){var t;return null==this||null===(t=this.refParams)||void 0===t?void 0:t.ref_report_link},getParam:function(){var t;return null==this||null===(t=this.refParams)||void 0===t?void 0:t.ref_params}},methods:{getRefParams:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.agent.transport.get("sms-users/get-ref-params").then((function(t){return t.data})).catch((function(t){}));case 2:t.refParams=e.sent;case 3:case"end":return e.stop()}}),e)})))()},onChangeAPIKey:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.agent.transport.get("sms-users/refresh-api-key").catch((function(e){t.$toast.error(t.$t("settings.updateError"))}));case 2:return e.sent,e.next=5,t.getUserSettings();case 5:case"end":return e.stop()}}),e)})))()},getUserSettings:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.agent.transport.get("users/settings").catch((function(t){}));case 2:n=e.sent,r=(null==n?void 0:n.data)||{},(o=x({},t.settings)).apiKey=(null==r?void 0:r.apiKey)||"",o.onSound=(null==r?void 0:r.onSound)||"",o.phone=(null==r?void 0:r.phone)||"",o.instagram=(null==r?void 0:r.instagram)||"",o.vk=(null==r?void 0:r.vk)||"",o.facebook=(null==r?void 0:r.facebook)||"",o.telegram=(null==r?void 0:r.telegram)||"",o.isShowInfoAboutOrders=(null==r?void 0:r.isShowInfoAboutOrders)||"",o.minBalanceLevel=(null==r?void 0:r.minBalanceLevel)||"",t.settings=o;case 15:case"end":return e.stop()}}),e)})))()},onChangeSettings:function(t,e){var n=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(o=x({},n.settings))[t]=e,r.next=4,n.$api.agent.transport.put("users/settings",{settings:o}).catch((function(t){n.$toast.error(n.$t("profile.settings.serrorChangingSettings"))}));case 4:return r.sent,n.$toast.success(n.$t("profile.settings.settingsChanged")),r.next=8,n.getUserSettings();case 8:case"end":return r.stop()}}),r)})))()},changeTwoFactorEnabled:(h=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$api.agent.transport.put("/users/me",{is_two_factor_enabled:!this.isTwoFactorEnabled}).then((function(t){return!0})).catch((function(){return!1}));case 2:return t.sent,t.next=5,this.getUser();case 5:this.$toast.success(this.$t("profile.settings.settingsChanged"));case 6:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)})}},w=_,C=(n(1284),n(5)),component=Object(C.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"w-full mb-3 lg:mb-0"},[n("Breadcrumbs",{attrs:{breadcrumbs:t.getBreadcrumbs}}),t._v(" "),n("div",{staticClass:"bg-base-100 rounded-[10px] p-3 sm:p-7"},[n("div",{staticClass:"flex items-center space-x-4 justify-start md:justify-center font-semibold mb-3 md:mb-8"},[n("span",{staticClass:"text-base md:text-[26px]"},[t._v(t._s(t.$t("profile.settings.title")))]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"flex flex-col"},[t._e(),t._v(" "),t._e(),t._v(" "),n("div",{staticClass:"tm-border-b flex justify-between pr-5"},[n("div",{staticClass:"text-sm sm:text-base"},[t._v(t._s(t.$t("profile.settings.twoFactorEnabled")))]),t._v(" "),n("div",[n("input",{staticClass:"checkbox checkbox-primary",attrs:{type:"checkbox",checked:"checked"},domProps:{value:t.isTwoFactorEnabled,checked:t.isTwoFactorEnabled},on:{change:function(){return t.changeTwoFactorEnabled()}}})])]),t._v(" "),t._e(),t._v(" "),n("div",{staticClass:"tm-border-b flex justify-between space-x-2 sm:space-x-5"},[n("div",{staticClass:"flex items-center"},[n("span",{staticClass:"text-sm sm:text-base"},[t._v(t._s(t.$t("profile.settings.phoneNumber")))])]),t._v(" "),n("div",{staticClass:"flex items-center space-x-3 w-1/2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.phone,expression:"settings.phone"}],staticClass:"w-full border h-10 min-h-8 sm:h-12 font-semibold input input-primary tm-text__invert",attrs:{placeholder:t.$t("profile.settings.playceholderPhone")},domProps:{value:t.settings.phone},on:{blur:function(e){return t.onChangeSettings("phone",t.settings.phone)},input:function(e){e.target.composing||t.$set(t.settings,"phone",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"tm-border-b flex justify-between space-x-2 sm:space-x-5"},[t._m(1),t._v(" "),n("div",{staticClass:"flex items-center space-x-3 w-1/2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.instagram,expression:"settings.instagram"}],staticClass:"w-full border h-10 min-h-8 sm:h-12 font-semibold input input-primary tm-text__invert",attrs:{placeholder:"https://instagram.com/"},domProps:{value:t.settings.instagram},on:{blur:function(e){return t.onChangeSettings("instagram",t.settings.instagram)},input:function(e){e.target.composing||t.$set(t.settings,"instagram",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"tm-border-b flex justify-between space-x-2 sm:space-x-5"},[t._m(2),t._v(" "),n("div",{staticClass:"flex items-center space-x-3 w-1/2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.vk,expression:"settings.vk"}],staticClass:"w-full border h-10 min-h-8 sm:h-12 font-semibold input input-primary tm-text__invert",attrs:{placeholder:"https://vk.com/"},domProps:{value:t.settings.vk},on:{blur:function(e){return t.onChangeSettings("vk",t.settings.vk)},input:function(e){e.target.composing||t.$set(t.settings,"vk",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"tm-border-b flex justify-between space-x-2 sm:space-x-5"},[t._m(3),t._v(" "),n("div",{staticClass:"flex items-center space-x-3 w-1/2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.facebook,expression:"settings.facebook"}],staticClass:"w-full border h-10 min-h-8 sm:h-12 font-semibold input input-primary tm-text__invert",attrs:{placeholder:"https://www.facebook.com/"},domProps:{value:t.settings.facebook},on:{blur:function(e){return t.onChangeSettings("facebook",t.settings.facebook)},input:function(e){e.target.composing||t.$set(t.settings,"facebook",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"tm-border-b flex justify-between space-x-2 sm:space-x-5"},[t._m(4),t._v(" "),n("div",{staticClass:"flex items-center space-x-3 w-1/2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.telegram,expression:"settings.telegram"}],staticClass:"w-full border h-10 min-h-8 sm:h-12 font-semibold input input-primary tm-text__invert",attrs:{placeholder:"https://web.telegram.org\n"},domProps:{value:t.settings.telegram},on:{blur:function(e){return t.onChangeSettings("telegram",t.settings.telegram)},input:function(e){e.target.composing||t.$set(t.settings,"telegram",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"tm-border-b flex-col sm:flex-row flex justify-between items-start md:items-start pr-0 sm:pr-5"},[n("div",{staticClass:"mb-3 sm:mb-0 flex flex-col space-y-3 w-full sm:w-3/4"},[n("div",{staticClass:"flex flex-col md:flex-row md:space-x-3"},[n("span",{staticClass:"text-lg xl:text-xl"},[t._v(t._s(t.$t("profile.settings.apiKey")))]),t._v(" "),n("span",{staticClass:"font-bold text-lg xl:text-xl text-primary break-all"},[t._v(t._s(t.settings.apiKey))])]),t._v(" "),n("div",{staticClass:"text-xs opacity-50"},[t._v(t._s(t.$t("profile.settings.message")))])]),t._v(" "),n("div",{staticClass:"w-full sm:w-auto text-xs"},[n("button",{staticClass:"w-full md:w-auto btn btn-primary btn-sm text-xs xl:text-sm min-w-[142px]",attrs:{name:"apiKey"},on:{click:t.onChangeAPIKey}},[t._v(t._s(t.$t("profile.settings.buttonUpdate"))+"\n              ")])])]),t._v(" "),t.getRefParamsLink&&t.getParam?n("div",{staticClass:"tm-border-b flex-col sm:flex-row flex justify-between items-start md:items-start pr-0 sm:pr-5"},[n("div",{staticClass:"flex flex-col"},[t.getRefParamsLink?n("div",{staticClass:"flex flex-col"},[n("div",[t._v(t._s(t.$t("profile.settings.refParams.refLink")))]),t._v(" "),n("div",[n("a",{attrs:{target:"_blank",href:t.getRefParamsLink}},[t._v(t._s(t.getRefParamsLink))])])]):t._e(),t._v(" "),t.getParam?n("div",{staticClass:"flex flex-col mt-6"},[n("div",[t._v(t._s(t.$t("profile.settings.refParams.refOptions")))]),t._v(" "),n("div",{staticClass:"text-primary text-lg"},[t._v(t._s(t.getParam))])]):t._e()])]):t._e()])])],1)])}),r,!1,null,null,null);e.default=component.exports}}]);
//# sourceMappingURL=index-38749f2.js.map