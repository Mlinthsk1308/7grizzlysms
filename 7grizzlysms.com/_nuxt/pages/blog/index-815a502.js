(window.webpackJsonp=window.webpackJsonp||[]).push([[242],{1461:function(t,e,n){"use strict";n.r(e);n(13),n(25),n(38);var r=n(10),o=n(3),c=n(0),l=(n(11),n(22),n(45),n(66),n(29),n(32),n(20),n(35),n(15),n(12),n(34),n(51)),d=n(1015),h=n(347),v=n(1016);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y,P,O={name:"Articles",data:function(){return{article:{},isLoading:!0,breadcrumbs:[{path:"/",title:this.$t("breadcrumbs.homePage")},{path:this.$route.path,title:this.$t("breadcrumbs.blog")}]}},head:function(){var t,e,n,r,o,c,meta=[{hid:"og:title",name:"og:title",property:"og:title",content:(null==this||null===(t=this.page)||void 0===t||null===(e=t.page)||void 0===e?void 0:e.title)||"Articles"},{hid:"og:site_name",name:"og:site_name",property:"og:site_name",content:"GrizzlySMS"},{hid:"og:description",name:"og:description",property:"og:description",content:(null==this||null===(n=this.page)||void 0===n||null===(r=n.page)||void 0===r?void 0:r.description)||"Articles"},{hid:"metadescription",name:"description",content:this.getDescription},{hid:"apple-mobile-web-app-title",name:"apple-mobile-web-app-title",content:"apple-".concat((null==this||null===(o=this.page)||void 0===o||null===(c=o.page)||void 0===c?void 0:c.title)||"Articles"," ")}];return{title:this.getTitle,meta:meta}},mixins:[l.b,l.a],components:{ArticleCard:d.default,Breadcrumbs:h.default,Pagination:v.default},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d,h,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$api,o=t.route,c=(null==o||null===(n=o.query)||void 0===n?void 0:n.page)||"",e.next=4,r.agent.transport.get("articles".concat(c?"?page=".concat(c):"","?expand=category")).catch((function(t){}));case 4:return l=e.sent,d=l.data,h=l.headers,v={page:Number(h["x-pagination-current-page"]),perPage:Number(h["x-pagination-per-page"]),pageCount:Number(h["x-pagination-page-count"]),totalCount:Number(h["x-pagination-total-count"])},e.abrupt("return",{articles:d,pagination:v});case 9:case"end":return e.stop()}}),e)})))()},computed:{getTitle:function(){var t,e,n,r,o,c,l,d=(null==this||null===(t=this.pagination)||void 0===t?void 0:t.page)||null;return d>=2?"".concat((null==this||null===(o=this.meta)||void 0===o||null===(c=o.page)||void 0===c?void 0:c.title_tag)||(null===(l=this.appCfg)||void 0===l?void 0:l.siteName)," - ").concat(this.$t("blog.pageNumber")).concat(d):(null==this||null===(e=this.meta)||void 0===e||null===(n=e.page)||void 0===n?void 0:n.title_tag)||(null===(r=this.appCfg)||void 0===r?void 0:r.siteName)},getDescription:function(){var t,e,n,r,o,c=(null==this||null===(t=this.pagination)||void 0===t?void 0:t.page)||null;return c>=2?"".concat((null==this||null===(r=this.meta)||void 0===r||null===(o=r.page)||void 0===o?void 0:o.description)||"Articles"," - ").concat(this.$t("blog.pageNumber")).concat(c):(null==this||null===(e=this.meta)||void 0===e||null===(n=e.page)||void 0===n?void 0:n.description)||"Articles"},linkForPagination:function(){var t,e=null===(t=this.$router)||void 0===t?void 0:t.currentRoute,n=f({},e.query);n.page="$page";var link=[];return Object.keys(n).map((function(t){link.push("".concat(t,"=").concat(n[t]))})),link=link.filter((function(t){return!!t})).join("&"),[e.path,link].filter((function(t){return!!t})).join("?")},noArticlesMessage:function(){var t=this.$i18n.localeProperties.code;return"ru"===t?"Статей еще нет":"en"===t?"No articles yet":"cn"===t?"还没有文章":"tr"===t?"Henüz makale yok":void 0},setTitle:function(){},setDescription:function(){}},methods:{onLoadArticles:(P=Object(c.a)(regeneratorRuntime.mark((function t(e){var n,o,c,l,d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.isResetArticles,this.$route.query,this.isLoading=!0,o=Boolean(n)?[]:Object(r.a)(this.articles),t.next=6,this.$api.agent.transport.get("articles?page=".concat(this.pagination.page,"?expand=category"));case 6:c=t.sent,l=c.data,d=c.headers,h={page:Number(d["x-pagination-current-page"]),perPage:Number(d["x-pagination-per-page"]),pageCount:Number(d["x-pagination-page-count"]),totalCount:Number(d["x-pagination-total-count"])},this.$router.replace({query:{page:h.page}}),this.articles=[].concat(Object(r.a)(o),Object(r.a)(l)),this.pagination=h,this.isLoading=!1;case 14:case"end":return t.stop()}}),t,this)}))),function(t){return P.apply(this,arguments)}),onChangePagination:(y=Object(c.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.page,r=e.perPage,o=e.isResetArticles,(c=f({},this.pagination)).page=n||c.page,c.perPage=r||c.perPage,this.pagination=c,t.next=7,this.onLoadArticles({isResetArticles:o});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})}},x=O,j=n(5),component=Object(j.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),t._v(" "),n("div",[t.articles&&t.articles.length?n("div",[t._e(),t._v(" "),t._l(t.articles,(function(article,t){return[n("ArticleCard",{key:"article-"+t,attrs:{count:t,slug:article.slug,id:article.id,category:article.category,announce:article.announce,title:article.title,image:article.image_id}})]})),t._v(" "),n("div",{staticClass:"mt-10"},[n("Pagination",{attrs:{page:t.pagination.page,"per-page":t.pagination.perPage,"total-count":t.pagination.totalCount,"page-count":t.pagination.pageCount,"link-pagination":t.linkForPagination,"link-pagination-first":t.localePath("/blog")},on:{onChangePerPage:function(e){return t.onChangePagination({perPage:e})},onLoadMore:function(e){return t.onChangePagination({page:t.pagination.page+1})},onChangePage:function(e){return t.onChangePagination({page:e,isResetArticles:!0})}}})],1)],2):n("div",{staticClass:"text-3xl text-center bg-base-100 p-7 rounded-[10px] text-primary"},[t._v(t._s(t.noArticlesMessage)+"\n    ")])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);
//# sourceMappingURL=index-815a502.js.map