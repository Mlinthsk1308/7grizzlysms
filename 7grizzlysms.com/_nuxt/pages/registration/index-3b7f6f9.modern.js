(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{1011:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxtYXNrIGlkPSJtYXNrMF81ODhfMTI0MTQiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgc3R5bGU9Im1hc2stdHlwZTphbHBoYSI+CiAgICAgICAgPHBhdGggZD0iTTE5Ljc4MzkgMTkuNzgwN0w0IDMuOTk2NzVIMFYyNEgyNFYwSDUuNjk4MTJWMi44NjY0NEwyMS4xOTgxIDE4LjM2NjRMMTkuNzgzOSAxOS43ODA3WiIKICAgICAgICAgICAgICBmaWxsPSJ3aGl0ZSI+PC9wYXRoPgogICAgPC9tYXNrPgogICAgPGcgbWFzaz0idXJsKCNtYXNrMF81ODhfMTI0MTQpIj4KICAgICAgICA8cGF0aCBkPSJNMy41MjM0NCA0Ljk0MTQxTDE5LjAyMzQgMjAuNDQxNCIgc3Ryb2tlPSIjRkI3ODAwIiBzdHJva2Utd2lkdGg9IjIiPjwvcGF0aD4KICAgICAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiBzdHJva2U9IiNGQjc4MDAiIHN0cm9rZS13aWR0aD0iMiI+PC9jaXJjbGU+CiAgICAgICAgPHBhdGggZD0iTTEyIDE4QzcuNDUyMDMgMTggMy42MzI1NyAxNS40NzM3IDIuMDgzOTYgMTJDMy42MzI1NyA4LjUyNjM0IDcuNDUyMDMgNiAxMiA2QzE2LjU0OCA2IDIwLjM2NzQgOC41MjYzNCAyMS45MTYgMTJDMjAuMzY3NCAxNS40NzM3IDE2LjU0OCAxOCAxMiAxOFoiCiAgICAgICAgICAgICAgc3Ryb2tlPSIjRkI3ODAwIiBzdHJva2Utd2lkdGg9IjIiPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+Cg=="},1012:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIHN0cm9rZT0iI0ZCNzgwMCIgc3Ryb2tlLXdpZHRoPSIyIj48L2NpcmNsZT4KICAgIDxwYXRoIGQ9Ik0xMiAxOEM3LjQ1MjAzIDE4IDMuNjMyNTcgMTUuNDczNyAyLjA4Mzk2IDEyQzMuNjMyNTcgOC41MjYzNCA3LjQ1MjAzIDYgMTIgNkMxNi41NDggNiAyMC4zNjc0IDguNTI2MzQgMjEuOTE2IDEyQzIwLjM2NzQgMTUuNDczNyAxNi41NDggMTggMTIgMThaIgogICAgICAgICAgc3Ryb2tlPSIjRkI3ODAwIiBzdHJva2Utd2lkdGg9IjIiPjwvcGF0aD4KPC9zdmc+Cg=="},1372:function(e,t,r){"use strict";r.r(t);var o=r(7),n=r(0),l=(r(82),r(8),r(14),r(117)),m=r(25),c=r(1006);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h,x={name:"registration",components:{Breadcrumbs:r(288).default},data:()=>({isShowPassword:!1,isShowConfirmPassword:!1,wasRegistration:!1,isAgree:!1,userAgreement:!1,isLoading:!1,telegramOrPhone:"",registrationForm:{name:"",email:"",password:"",confirmPassword:""}}),mixins:[m.f,c.a,m.e,m.b],validations:{registrationForm:{name:{required:l.required,minLength:Object(l.minLength)(2)},email:{required:l.required,email:l.email},password:{required:l.required,minLength:Object(l.minLength)(6)},confirmPassword:{required:l.required,minLength:Object(l.minLength)(6)}}},layout:"custom-layout",computed:{getBreadcrumbs(){return[{path:"/",title:this.$t("breadcrumbs.homePage")},{path:this.$route.path,title:this.$t("registration.title")}]},isRecaptchaTest(){var e,t,r,o;return Boolean(Number.parseFloat((null===(e=this.$store)||void 0===e||null===(t=e.state)||void 0===t||null===(r=t.appState)||void 0===r||null===(o=r.config)||void 0===o?void 0:o.useReCaptchaForAuth)||0))},isUseGoBack:function(){var e,t,r;return Boolean((null===(e=window.history)||void 0===e?void 0:e.length)>2&&(null===(t=this.$route)||void 0===t||null===(r=t.query)||void 0===r?void 0:r.goback))}},mounted:function(){var e,t;document.getElementById("scroll-container").scrollTo({top:0,behavior:"smooth"});var r=(null===(e=this.$route)||void 0===e||null===(t=e.query)||void 0===t?void 0:t.r)||"";r&&this.$cookies.set("r",r,{path:"/",expires:new Date((new Date).setFullYear((new Date).getFullYear()+1))})},methods:{onSubmitForm(){var e=this;return Object(n.a)((function*(){var t,r;if(e.$v.$touch(),e.$v.$invalid)return null;if(e.registrationForm.password!==e.registrationForm.confirmPassword)return e.$toast.error(e.$t("registration.passwordsMismatchMessage")),null;if(e.telegramOrPhone&&e.$cookies.set("telegram_or_phone",e.telegramOrPhone,{path:"/",expires:new Date((new Date).setFullYear((new Date).getFullYear()+1))}),"1"!==(null===(t=e.$nuxt.context.env)||void 0===t?void 0:t.authorizeUserAfterRegistration)&&1!==(null===(r=e.$nuxt.context.env)||void 0===r?void 0:r.authorizeUserAfterRegistration)){e.isLoading=!0;var o=v({},e.registrationForm);delete o.confirmPassword,Boolean("undefined"!=typeof ym)&&ym(86626883,"reachGoal","register"),e.isRecaptchaTest&&(o["g-recaptcha-response"]=yield e.$recaptcha.getResponse().then((e=>e)).catch((()=>"")),yield e.$recaptcha.reset());try{(yield e.$api.agent.transport.post("users/signup",o))&&(e.wasRegistration=!0,e.registrationForm={email:"",password:"",name:"",confirmPassword:""},e.$nextTick((()=>{e.$v.$reset()})),e.isAgree=!1),e.isUseGoBack&&e.$router.back()}catch(t){var n,l,m=(null==t||null===(n=t.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l[0].message)||"Server Error";e.$toast.error(m,{})}e.isLoading=!1}else yield e.registrationAfterUser()}))()},registrationAfterUser:(h=Object(n.a)((function*(){this.isLoading=!0;var e=v({},this.registrationForm);delete e.confirmPassword,this.isRecaptchaTest&&(e["g-recaptcha-response"]=yield this.$recaptcha.getResponse().then((e=>e)).catch((()=>"")),yield this.$recaptcha.reset());var t=yield this.$api.agent.transport.post("/users/signup",v({},e)).then((e=>e.data)).catch((e=>{var t,r=null==e||null===(t=e.response)||void 0===t?void 0:t.data,o=[];return Array.isArray(r)&&r.length&&(o=r.map((e=>e.message))),o.length||o.push(this.$t("errors.err1")),{error:o.join(";<br/>")}}));if(t.error)return this.isLoading=!1,void this.$toast.error(t.error);var r=yield this.$api.agent.transport.post("/users/login",{username:e.email,password:e.password,"g-recaptcha-response":e["g-recaptcha-response"]||""}).then((e=>e.data)).catch((e=>{var t,r=null==e||null===(t=e.response)||void 0===t?void 0:t.data,o=[];return Array.isArray(r)&&r.length&&(o=r.map((e=>e.message))),o.length||o.push(this.$t("errors.err1")),{error:o.join(";<br/>")}}));if(r.error)return this.isLoading=!1,void this.$toast.error(t.error);Boolean("undefined"!=typeof ym)&&ym(86626883,"reachGoal","register"),this.setToken({authToken:r.token}),this.$cookies.set("authToken",r.token,{path:"/",expires:new Date((new Date).setFullYear((new Date).getFullYear()+5))}),yield this.getUser(),this.isLoading=!1,this.isUseGoBack?this.$router.back():this.$router.replace(this.localePath("/profile"))})),function(){return h.apply(this,arguments)})}},f=x,w=r(4),component=Object(w.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("section",[o("div",{staticClass:"mx-auto px-4 md:px-0 max-w-4xl mt-4 md:mt-6"},[e.wasRegistration?o("div",{staticClass:"mt-10 flex flex-col justify-center items-center"},[o("p",{staticClass:"text-3xl text-primary text-center",domProps:{innerHTML:e._s(e.$t("registration.registrationSuccessMessage"))}}),e._v(" "),o("div",{staticClass:"mt-8"},[o("nuxt-link",{staticClass:"text-gray-400 hover:opacity-60 cursor-pointer text-xl",attrs:{to:"/"}},[e._v(e._s(e.$t("registration.backHome"))+"\n        ")])],1)]):e._e(),e._v(" "),e.wasRegistration?e._e():o("div",[o("div",{staticClass:"flex flex-col"},[o("Breadcrumbs",{attrs:{breadcrumbs:e.getBreadcrumbs}}),e._v(" "),o("div",{staticClass:"mt-0 md:mt-9 w-full mb-2 md:mb-12 text-center"},[o("p",{staticClass:"text-2xl sm:text-[32px] font-semibold"},[e._v(e._s(e.$t("registration.title")))])]),e._v(" "),o("div",{staticClass:"w-full flex flex-col items-center bg-base-200 rounded-lg py-4 md:py-10 mb-4 px-4 md:px-0"},[o("div",{staticClass:"w-full md:w-3/5 mb-3 md:mb-5"},[o("div",{staticClass:"flex flex-col space-x-0 sm:flex-row sm:space-x-2"},[e.$v.registrationForm.name.$dirty&&!e.$v.registrationForm.name.required?o("span",{staticClass:"text-error text-[11px] sm:text-xs"},[e._v(e._s(e.$t("errorsValidationForms.requiredForFill")))]):e.$v.registrationForm.name.$dirty&&!e.$v.registrationForm.name.minLength?o("span",{staticClass:"text-error text-[11px] sm:text-xs"},[e._v(e._s(e.$t("errorsValidationForms.requaredLengthMessage"))+" "+e._s(e.$v.registrationForm.name.$params.minLength.min))]):e._e()]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.registrationForm.name.$model,expression:"$v.registrationForm.name.$model",modifiers:{trim:!0}}],staticClass:"tm-text__invert h-11 sm:h-12 input focus:ring-0 py-[10px] pr-14 bg-secondary w-full border-2 border-transparent hover:border-primary rounded-md",attrs:{placeholder:e.$t("registration.nameInputPlaceholder"),type:"text"},domProps:{value:e.$v.registrationForm.name.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.registrationForm.name,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),o("div",{staticClass:"w-full md:w-3/5 mb-3 md:mb-5"},[o("div",{staticClass:"flex flex-col space-x-0 sm:flex-row sm:space-x-2"},[e.$v.registrationForm.email.$dirty&&!e.$v.registrationForm.email.required?o("span",{staticClass:"text-error text-[11px] sm:text-xs"},[e._v(e._s(e.$t("errorsValidationForms.requiredForFill")))]):e.$v.registrationForm.email.$dirty&&!e.$v.registrationForm.email.email?o("span",{staticClass:"text-error text-[11px] sm:text-xs"},[e._v(e._s(e.$t("errorsValidationForms.emailErrorMessage")))]):e._e()]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.registrationForm.email.$model,expression:"$v.registrationForm.email.$model",modifiers:{trim:!0}}],staticClass:"tm-text__invert h-11 sm:h-12 input focus:ring-0 py-[10px] pr-14 bg-secondary w-full border-2 border-transparent hover:border-primary rounded-md",attrs:{placeholder:e.$t("registration.emailInputPlaceholder"),type:"text"},domProps:{value:e.$v.registrationForm.email.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.registrationForm.email,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),o("div",{staticClass:"w-full md:w-3/5 mb-3 md:mb-5"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.telegramOrPhone,expression:"telegramOrPhone",modifiers:{trim:!0}}],staticClass:"tm-text__invert h-11 sm:h-12 input focus:ring-0 py-[10px] pr-14 bg-secondary w-full border-2 border-transparent hover:border-primary rounded-md",attrs:{placeholder:"Telegram",type:"text"},domProps:{value:e.telegramOrPhone},on:{input:function(t){t.target.composing||(e.telegramOrPhone=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),o("div",{staticClass:"w-full md:w-3/5 mb-3 md:mb-5"},[o("div",{staticClass:"flex flex-col space-x-0 sm:flex-row sm:space-x-2"},[e.$v.registrationForm.password.$dirty&&!e.$v.registrationForm.password.required?o("span",{staticClass:"text-error text-[11px] sm:text-xs"},[e._v(e._s(e.$t("errorsValidationForms.requiredForFill")))]):e.$v.registrationForm.password.$dirty&&!e.$v.registrationForm.password.minLength?o("span",{staticClass:"text-error text-[11px] sm:text-xs"},[e._v(e._s(e.$t("errorsValidationForms.requaredLengthMessage"))+" "+e._s(e.$v.registrationForm.password.$params.minLength.min))]):e._e()]),e._v(" "),o("div",{staticClass:"relative"},[o("form",[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.registrationForm.password.$model,expression:"$v.registrationForm.password.$model",modifiers:{trim:!0}}],staticClass:"tm-text__invert h-11 sm:h-12 input focus:ring-0 py-[10px] pr-14 bg-secondary w-full border-2 border-transparent hover:border-primary rounded-md",attrs:{autocomplete:"on",placeholder:e.$t("registration.passwordInputPlaceholder"),type:e.isShowPassword?"text":"password"},domProps:{value:e.$v.registrationForm.password.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.registrationForm.password,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),o("span",{staticClass:"cursor-pointer w-14 h-full absolute top-0 end-0 right-0 flex flex-shrink-0 justify-center items-center focus:outline-nonew-14",on:{click:function(t){e.isShowPassword=!e.isShowPassword}}},[e.isShowPassword?e._e():o("img",{attrs:{src:r(1011),alt:"show_pass"}}),e._v(" "),e.isShowPassword?o("img",{attrs:{src:r(1012),alt:"show_pass"}}):e._e()])])]),e._v(" "),o("div",{staticClass:"w-full md:w-3/5 mb-3 md:mb-5"},[o("div",{staticClass:"flex flex-col space-x-0 sm:flex-row sm:space-x-2"},[e.$v.registrationForm.confirmPassword.$dirty&&!e.$v.registrationForm.confirmPassword.required?o("span",{staticClass:"text-error text-[11px] sm:text-xs"},[e._v(e._s(e.$t("errorsValidationForms.requiredForFill")))]):e.$v.registrationForm.confirmPassword.$dirty&&!e.$v.registrationForm.confirmPassword.minLength?o("span",{staticClass:"text-error text-[11px] sm:text-xs"},[e._v(e._s(e.$t("errorsValidationForms.requaredLengthMessage"))+" "+e._s(e.$v.registrationForm.confirmPassword.$params.minLength.min))]):e._e()]),e._v(" "),o("div",{staticClass:"relative"},[o("form",[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.registrationForm.confirmPassword.$model,expression:"$v.registrationForm.confirmPassword.$model",modifiers:{trim:!0}}],staticClass:"tm-text__invert h-11 sm:h-12 input focus:ring-0 py-[10px] pr-14 bg-secondary w-full border-2 border-transparent hover:border-primary rounded-md",attrs:{autocomplete:"on",placeholder:e.$t("registration.passwordConfirmInputPlaceholder"),type:e.isShowConfirmPassword?"text":"password"},domProps:{value:e.$v.registrationForm.confirmPassword.$model},on:{input:function(t){t.target.composing||e.$set(e.$v.registrationForm.confirmPassword,"$model",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),o("span",{staticClass:"cursor-pointer w-14 h-full absolute top-0 end-0 right-0 flex flex-shrink-0 justify-center items-center focus:outline-nonew-14",on:{click:function(t){e.isShowConfirmPassword=!e.isShowConfirmPassword}}},[e.isShowConfirmPassword?e._e():o("img",{attrs:{src:r(1011),alt:"show_pass"}}),e._v(" "),e.isShowConfirmPassword?o("img",{attrs:{src:r(1012),alt:"show_pass"}}):e._e()])])]),e._v(" "),e.isRecaptchaTest?[o("div",{staticClass:"flex items-center justify-center border-b py-8"},[o("recaptcha")],1)]:e._e(),e._v(" "),o("div",{staticClass:"flex justify-center flex-col items-center w-full mx-auto md:w-3/5 mb-5 md:mb-8"},[o("div",[o("div",{staticClass:"w-full mb-3 md:mb-5 flex"},[o("div",{staticClass:"flex justify-center items-center"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.isAgree,expression:"isAgree"}],staticClass:"min-h-[20px] min-w-[20px] !h-5 !w-5 checkbox checkbox-primary focus:ring-0",attrs:{type:"checkbox",id:"isAgree"},domProps:{checked:Array.isArray(e.isAgree)?e._i(e.isAgree,null)>-1:e.isAgree},on:{change:function(t){var r=e.isAgree,o=t.target,n=!!o.checked;if(Array.isArray(r)){var l=e._i(r,null);o.checked?l<0&&(e.isAgree=r.concat([null])):l>-1&&(e.isAgree=r.slice(0,l).concat(r.slice(l+1)))}else e.isAgree=n}}}),e._v(" "),o("label",{staticClass:"text-[13px] leading-[120%] max-w-xs ml-3",attrs:{for:"isAgree"}},[e._v("\n                    "+e._s(e.$t("registration.iAgree"))+"\n                    "),o("nuxt-link",{staticClass:"link link-primary",attrs:{to:e.localePath("/privacy")}},[e._v(e._s(e.$t("registration.privacyPolicy"))+"\n                    ")])],1)])]),e._v(" "),o("div",{staticClass:"w-full mb-3 md:mb-5 flex"},[o("div",{staticClass:"flex justify-center items-center"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.userAgreement,expression:"userAgreement"}],staticClass:"min-h-[20px] min-w-[20px] !h-5 !w-5 checkbox checkbox-primary focus:ring-0",attrs:{type:"checkbox",id:"userAgreement"},domProps:{checked:Array.isArray(e.userAgreement)?e._i(e.userAgreement,null)>-1:e.userAgreement},on:{change:function(t){var r=e.userAgreement,o=t.target,n=!!o.checked;if(Array.isArray(r)){var l=e._i(r,null);o.checked?l<0&&(e.userAgreement=r.concat([null])):l>-1&&(e.userAgreement=r.slice(0,l).concat(r.slice(l+1)))}else e.userAgreement=n}}}),e._v(" "),o("label",{staticClass:"text-[13px] leading-[120%] max-w-xs ml-3",attrs:{for:"userAgreement"}},[e._v("\n                    "+e._s(e.$t("registration.iAgree"))+"\n                    "),o("nuxt-link",{staticClass:"link link-primary",attrs:{to:e.localePath("/offer")}},[e._v(e._s(e.$t("registration.userAgreement"))+"\n                    ")])],1)])])])]),e._v(" "),o("div",{staticClass:"w-full md:w-3/5"},[o("button",{staticClass:"h-10 md:h-12 min-h-[40px] w-full mb-3 md:mb-5 btn btn-primary",attrs:{disabled:!e.isAgree||!e.userAgreement},on:{click:e.onSubmitForm}},[e._v(e._s(e.isLoading?e.$t("registration.buttonRegistrating"):e.$t("registration.buttonRegistration"))+"\n            ")])])],2),e._v(" "),o("div",{staticClass:"w-full bg-base-200 rounded-lg flex justify-center items-center py-4 md:py-8"},[o("div",{staticClass:"text-center font-semibold text-base md:text-xl"},[o("span",[e._v(e._s(e.$t("registration.alreadyHaveAccount")))]),e._v(" "),o("nuxt-link",{attrs:{to:e.localePath("/authorization")}},[e._v(e._s(e.$t("registration.login")))])],1)])],1)])])])}),[],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=index-3b7f6f9.modern.js.map